<mat-tab-group>
  <mat-tab label="Props">
    <mat-nav-list>

        <mat-list-item *ngIf="selected">
          <label>{{selected?.data?.dataset?.name}}</label>
          <span>&nbsp;</span>
          <button mat-mini-fab color="basic" matTooltip="Filter. Show this object lineage" (click)="filterByTableIn(selected?.data?.dataset?.name)">
            <mat-icon>done</mat-icon>
          </button>
          <button mat-mini-fab color="basic" matTooltip="Filter. Show object usage" (click)="filterByTableUsage(selected?.data?.dataset?.name)">
            <mat-icon>filter_alt</mat-icon>
          </button>                    
          <button mat-mini-fab color="basic" matTooltip="Clear filter" (click)="clearTableFilter()">
            <mat-icon>clear</mat-icon>
          </button>      
        </mat-list-item>
        <mat-list-item>        
          <label>Type:</label>
          <label>{{getType()}}</label>
        </mat-list-item>
        <mat-list-item *ngIf="getAction() != undefined">
          <label>Action:</label>
          <label>{{getAction()}}</label>
        </mat-list-item>    
        <mat-list-item *ngIf="selectedNodeProject != undefined">{{selectedNodeProject}}
          <span>&nbsp;</span>
          <button mat-mini-fab color="basic"  matTooltip="Load this project" (click)="loadProject(selectedNodeProject)">
            <mat-icon>done</mat-icon>
          </button>
          <button mat-mini-fab color="basic" matTooltip="Filter diagram by this project" (click)="filterByProject(selectedNodeProject)">
            <mat-icon>filter_alt</mat-icon>
          </button>                    
          <button mat-mini-fab color="basic" matTooltip="Clear filter" (click)="clearProjectFilter()">
            <mat-icon>clear</mat-icon>
          </button>          
        </mat-list-item>

        <mat-list-item>        
            <textarea *ngIf="selected" disabled>{{getSource()}}</textarea>
<!--            
            <button mat-mini-fab color="basic" (click)="getSourceFile()" *ngIf="selected">
              <mat-icon>text_snippet</mat-icon>
            </button>
-->            
        </mat-list-item>

    </mat-nav-list>
  </mat-tab>
  <mat-tab label="Fields ({{selected?.data?.dataset?.fields?.length}})">
    <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="example-tree">
      <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>          
          <button mat-icon-button matTreeNodeToggle>
            <mat-icon class="mat-icon-rtl-mirror">
              code
            </mat-icon>          
          </button>
          {{node.name}}
      </mat-tree-node>
      <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
          <div class="mat-tree-node">
            <button mat-icon-button matTreeNodeToggle
                    [attr.aria-label]="'Toggle ' + node.name">
              <mat-icon class="mat-icon-rtl-mirror">
                {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
              </mat-icon>
            </button>
            {{node.name}}
          </div>
          <div [class.example-tree-invisible]="!treeControl.isExpanded(node)"
              role="group">
            <ng-container matTreeNodeOutlet></ng-container>
        </div>
      </mat-nested-tree-node>
    </mat-tree>
  </mat-tab>
</mat-tab-group>