{"version":3,"sources":["./src/app/components/tepmlate-editor/tepmlate-editor.component.ts","./src/app/components/tepmlate-editor/tepmlate-editor.component.html","./src/app/components/main-layout/main-layout.component.ts","./src/app/components/main-layout/main-layout.component.html","./src/app/classes/files.ts","./src/app/classes/commands.ts","./src/app/classes/dataset.ts","./src/app/classes/tempates.ts","./src/app/components/projects/projects.component.ts","./src/app/components/projects/projects.component.html","./src/app/components/topology/topology.component.ts","./src/app/components/topology/topology.component.html","./src/app/classes/node.ts","./src/environments/environment.ts","./src/app/components/selected-item-info/selected-item-info.component.ts","./src/app/components/selected-item-info/selected-item-info.component.html","./src/app/components/select_table/select-table.component.ts","./src/app/components/select_table/select-table.component.html","./src/app/app.component.ts","./src/app/app.component.html","./src/app/components/main-toolbar/main-toolbar.component.ts","./src/app/components/main-toolbar/main-toolbar.component.html","./src/app/components/domain-link-component/domain-link-component.component.ts","./src/app/components/domain-link-component/domain-link-component.component.html","./src/app/services/sysutil.service.ts","./src/app/app.module.ts","./src/app/components/projectDialog/projectDialog.component.ts","./src/app/components/projectDialog/projectDialog.component.html","./src/app/services/files.service.ts","./src/app/http-interceptors/cache-interceptor.ts","./src/app/services/project.service.ts","./src/app/classes/project.ts","./src/app/services/template.service.ts","./src/app/components/selected-item-inspector/selected-item-inspector.component.ts","./src/app/components/selected-item-inspector/selected-item-inspector.component.html","./src/app/components/files-tree/files-tree.component.ts","./src/app/components/files-tree/files-tree.component.html","./src/app/components/source-code/source-code.component.ts","./src/app/components/source-code/source-code.component.html","./src/app/components/topology-grid-view/topology-grid-view.component.ts","./src/app/components/topology-grid-view/topology-grid-view.component.html","./src/app/components/commands/commands.component.ts","./src/app/components/commands/commands.component.html","./src/app/classes/topology.ts","./src/app/services/events.service.ts","./src/app/app-routing.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":";;;;;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwD;AAG1C;AACU;AACC;;;;;;;;;;AAOlB,MAAM,uBAAuB;IAMlC,YAAoB,cAA+B,EAAU,YAA0B;QAAnE,mBAAc,GAAd,cAAc,CAAiB;QAAU,iBAAY,GAAZ,YAAY,CAAc;QACrF,YAAY,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAC3C,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,QAAQ;YAC9B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,cAAc,CAAC;YAClD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,IAAI,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC;QAC3D,CAAC,CAAC;QACF,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAC/C,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,QAAQ;YAC9B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,cAAc,CAAC;YAClD,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBAC5D,IAAI,CAAC,QAAQ,GAAG,CAAC;YACnB,CAAC,CAAC;QACJ,CAAC,CAAC;IACJ,CAAC;IACD,eAAe;IAEf,CAAC;IAED,QAAQ;IAER,CAAC;IAED,OAAO;QACL,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE;QACrC,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAChE,CAAC;IAED,cAAc;QACZ,IAAG,IAAI,CAAC,QAAQ,EAAE;YAChB,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;YACzC,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE;YACrC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC;iBAC3D,SAAS,CAAC,CAAC,CAAC,EAAE;gBACb,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;gBAC1C,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBACtC,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;YAC5C,CAAC,EAAE,KAAK,CAAC,EAAE;gBACT,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC;gBAC1C,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;gBAClB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC;gBAC5B,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;YAC5C,CAAC,CAAC;SACL;IACH,CAAC;IAED,oBAAoB;QAClB,IAAG,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjC,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;YACzC,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE;YACrC,IAAI,CAAC,cAAc,CAAC,oBAAoB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC;iBAChF,SAAS,CAAC,CAAC,CAAC,EAAE;gBACb,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;gBAC1C,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBACtC,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;YAC5C,CAAC,EAAE,KAAK,CAAC,EAAE;gBACT,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC;gBAC1C,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;gBAClB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC;gBAC5B,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;YAC5C,CAAC,CAAC;SACL;IACH,CAAC;IAED,YAAY;QACV,IAAG,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjC,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;YACzC,IAAI,CAAC,GAAG,IAAI,qEAAY,EAAE;YAC1B,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ;YAC1B,CAAC,CAAC,eAAe,GAAG,IAAI,CAAC,QAAQ;YACjC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,CAAC;iBAChC,SAAS,CAAC,CAAC,CAAC,EAAE;gBACb,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;YAC5C,CAAC,EAAE,KAAK,CAAC,EAAE;gBACT,OAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC;gBACzC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;gBAClB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC;gBAC5B,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;YAC5C,CAAC,CAAC;SACL;IACH,CAAC;;8FArFU,uBAAuB;uGAAvB,uBAAuB;QCbpC,4EAAsG;QAAjC,+IAAS,0BAAsB,IAAC;QACnG,2EAAU;QAAA,uEAAY;QAAA,4DAAW;QACnC,4DAAS;QACT,2EAA0C;QAAvB,6LAAsB;QAAzC,4DAA0C;QAC1C,2EAA0C;QAArB,2LAAoB;QAAzC,4DAA0C;QAC1C,4EAA+G;QAApB,+IAAS,aAAS,IAAC;QAC5G,2EAAU;QAAA,qEAAU;QAAA,4DAAW;QACjC,4DAAS;QACT,4EAAqF;QAAzB,+IAAS,kBAAc,IAAC;QAClF,2EAAU;QAAA,gEAAI;QAAA,4DAAW;QAC3B,4DAAS;QAET,0EAA8D;QAC5D,+EAAiC;QAC/B,oFAA2B;QAC3B,0EAA0E;QAA1D,sLAAmB;QAAuC,4DAAM;QAChF,4DAAgB;QAChB,oFAA2B;QAC3B,0EAA2F;QAA3E,sLAAmB;QAAwD,4DAAM;QACjG,4DAAgB;QAClB,4DAAW;QACb,4DAAM;;QAlBa,0DAAsB;QAAtB,iFAAsB;QACpB,0DAAoB;QAApB,+EAAoB;QAUtB,0DAAW;QAAX,oEAAW;QACV,0DAAmB;QAAnB,8EAAmB;QAEpB,0DAAW;QAAX,oEAAW;QACV,0DAAmB;QAAnB,8EAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;AChBvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmE;AAErD;AACS;AACK;;;;;;;;;;;;;;;;;;;;ICCtB,0EAAkD;IAChD,0EAA4E;IAC1E,yEAA2B;IAC7B,4DAAM;IACR,4DAAM;;;IA6BQ,+EAAmD;IAAA,sEAAW;IAAA,4DAAW;IACzE,qEACF;;;;IAwBI,+EAA0C;IAAhC,icAA+B;IAAC,gEAAK;IAAA,4DAAW;IAC1D,uDACF;;;IADE,0DACF;IADE,+FACF;;;IAJF,8EAAmF;IACjF,yJAGc;IACd,0EAA0C;IACxC,qEAA0H;IAC5H,4DAAM;IACR,4DAAU;;;IAR8B,sFAA0B;IAM9C,0DAAyB;IAAzB,uFAAyB;;;IAN7C,uIAQU;;;IARgB,qFAAY;;ADnDjD,MAAM,mBAAmB;IAY9B,YAAoB,YAA0B,EAAS,EAAqB;QAAxD,iBAAY,GAAZ,YAAY,CAAc;QAAS,OAAE,GAAF,EAAE,CAAmB;QAP5E,gBAAW,GAAY,KAAK,CAAC;QAC7B,aAAQ,GAAG,KAAK;QAChB,aAAQ,GAAG,KAAK;QAEhB,cAAS,GAAkB,EAAE;QAC7B,qBAAgB,GAAG,CAAC,CAAC;QAGnB,YAAY,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAC3C,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,EAAE,CAAC,aAAa,EAAE,CAAC;QACrB,CAAC,CAAC;QACF,YAAY,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;YAC1C,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,QAAQ,GAAG,KAAK;QACvB,CAAC,CAAC;QACF,YAAY,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;YAC5C,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,QAAQ,GAAG,KAAK;QACvB,CAAC,CAAC;QACF,YAAY,CAAC,oBAAoB,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAClD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC;YACjE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC;YAC1B,IAAI,CAAC,gBAAgB,GAAG,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC;QACvD,CAAC,CAAC;QACF,YAAY,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACjE,CAAC;IAED,SAAS;QACP,IAAI,CAAC,iBAAiB,CAAC,SAAS,EAAE,CAAC;IACrC,CAAC;IAED,QAAQ;IACR,CAAC;IAED,UAAU,CAAC,QAAgB;QACzB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,GAAE,EAAC,CAAC,IAAI,KAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAClG,CAAC;;sFA1CU,mBAAmB;mGAAnB,mBAAmB;kEAEnB,8EAAiB;;;;;;QCf9B,uFAAsB;QACpB,mFAAgC;QAC9B,kFAAiD;QAAnC,gTAAkB,YAAe,IAAC;QAAC,4DAAe;QAClE,4DAAa;QACb,qFAAoB;QAElB,yEAAqB;QACnB,+GAIM;QAEN,yEAA0D;QACxD,sFAAqE;QAAnD,oTAAkB,YAAe,IAAC;QAAiB,4DAAmB;QAExF,yEAAoB;QAChB,0EAAgF;QAE9E,oFAA4B;QAC1B,sFAAmD;QACnD,2FAAqC;QACnC,8FAA4B;QAC1B,mFAAiB;QACb,oEACJ;QAAA,4DAAkB;QACpB,4DAA6B;QAC7B,2EAA6B;QAC/B,4DAAsB;QACxB,4DAAgB;QAGlB,4DAAM;QACN,sEACM;QACN,2EAAwC;QACtC,qFAAkD;QAChD,+EAA0B;QAExB,kIAGc;QAEd,2EAA4C;QAC1C,2EAA6B;QAC/B,4DAAM;QACR,4DAAU;QACV,+EAAsC;QACpC,2EAA0C;QACxC,iFAAyC;QAC3C,4DAAM;QACR,4DAAU;QACV,+EAA2C;QACzC,2EAA0C;QACxC,8EAAmC;QACrC,4DAAM;QACR,4DAAU;QACV,+EAA0C;QACxC,2EAA0C;QACxC,2EAA6B;QAC/B,4DAAM;QACR,4DAAU;QACV,kIAUc;QAChB,4DAAgB;QAClB,4DAAM;QACV,4DAAM;QACR,4DAAM;QACR,4DAAM;QACR,4DAAqB;QACvB,4DAAuB;;QAzEK,0DAA0B;QAA1B,0FAA0B;QAMpB,0DAA6B;QAA7B,qFAA6B;QAI9C,0DAAqB;QAArB,2FAAqB;QAmBT,2DAAkC;QAAlC,+FAAkC;QA2BlC,2DAA6B;QAA7B,0FAA6B;;;;;;;;;;;;;;AC/D1D;AAAA;AAAO,MAAM,WAAW;IACpB,YAAY,IAAY,EAAE,OAAe;QACrC,IAAI,CAAC,IAAI,GAAG,IAAI;QAChB,IAAI,CAAC,OAAO,GAAG,OAAO;IAC1B,CAAC;IAGD,SAAS;QACL,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC;QACvD,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;IAC1B,CAAC;CACJ;;;;;;;;;;;;;ACXD;AAAA;AAAO,MAAM,OAAO;CAGnB;;;;;;;;;;;;;ACDD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,MAAM,KAAK;CAEjB;AAEM,MAAM,YAAa,SAAQ,KAAK;CAMtC;AAEM,MAAM,KAAM,SAAQ,KAAK;IAAhC;;QAIE,kBAAa,GAAW,OAAO,CAAC;IAClC,CAAC;CAAA;AAEM,MAAM,OAAQ,SAAQ,YAAY;CAOxC;AAEM,MAAM,sBAAsB;CAGlC;;;;;;;;;;;;;ACjCD;AAAA;AAAO,MAAM,YAAY;IAAzB;QACI,aAAQ,GAAW,EAAE;QACrB,oBAAe,GAAW,EAAE;IAC9B,CAAC;CAAA;;;;;;;;;;;;;ACHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwE;AACtB;AAG+C;;;;;;;;;;;;;;ICI3F,4EAC6D;IADrC,6aAA8B,KAAK,KAAE;IAE3D,2EAAU;IAAA,6EAAkB;IAAA,4DAAW;IACzC,4DAAS;;;;IACT,4EAC8D;IADtC,ibAA8B;IAEpD,2EAAU;IAAA,+DAAI;IAAA,4DAAW;IAC3B,4DAAS;;;;IACT,6EAC6D;IADrC,qbAAgC;IAEtD,2EAAU;IAAA,iEAAM;IAAA,4DAAW;IAC7B,4DAAS;;;IACT,+EAA6E;IAAA,gEAAK;IAAA,4DAAW;;;;IAdjG,mFAAgG;IAA/C,2YAA8C;IAC3F,uEAAoE;IAArC,wWAA8B,IAAI,KAAE;IAAC,uDAAkB;IAAA,4DAAI;IAC1F,mIAGS;IACT,mIAGS;IACT,mIAGS;IACT,uIAA6F;IACjG,4DAAgB;;;;IAdD,0DAAmB;IAAnB,4EAAmB;IAAsC,0DAAkB;IAAlB,gFAAkB;IAElE,0DAAuC;IAAvC,6GAAuC;IAItC,0DAAuC;IAAvC,6GAAuC;IAIxC,0DAAuC;IAAvC,6GAAuC;IAGZ,0DAA4B;IAA5B,2FAA4B;;ADR1E,MAAM,iBAAiB;IAmB5B,YAAoB,cAA8B,EAAS,MAAiB,EAAU,YAA0B;QAA5F,mBAAc,GAAd,cAAc,CAAgB;QAAS,WAAM,GAAN,MAAM,CAAW;QAAU,iBAAY,GAAZ,YAAY,CAAc;QAhBhH,sBAAiB,GAAW,EAAE;QAC9B,kBAAa,GAAW,EAAE;QAG1B,mBAAc,GAAG,IAAI,0DAAY,EAAW,CAAC;QAa3C,IAAI,CAAC,IAAI,EAAE;IACb,CAAC;IAZD,YAAY;QACV,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;IAED,IAAI;QACF,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAClD,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACxB,CAAC,CAAC;IACJ,CAAC;IAMD,aAAa;QACX,IAAI,CAAC,WAAW,CAAC,IAAI,+DAAO,EAAE,CAAC;IACjC,CAAC;IAED,aAAa,CAAC,OAAgB;;QAC5B,IAAG,OAAO,CAAC,iBAAiB,CAAC,EAAE;YAC7B,IAAI,CAAC,QAAQ,SAAG,IAAI,CAAC,QAAQ,0CAAE,MAAM,CAAC,CAAC,GAAE,EAAC,CAAC,IAAI,IAAI,OAAO,CAAC,IAAI,CAAC;YAChE,IAAI,CAAC,YAAY,EAAE;SACpB;IACH,CAAC;IAED,WAAW,CAAC,OAAgB;QAC1B,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC,IAAI;QACjC,MAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,+GAAsB,EAAE;YACzD,IAAI,EAAE,EAAC,IAAI,EAAE,OAAO,CAAC,IAAI,EAAE,QAAQ,EAAE,OAAO,CAAC,QAAQ;gBACnD,cAAc,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,MAAM,EAAE,OAAO,CAAC,MAAM,EAAC;SACnF,CAAC,CAAC;QAEH,SAAS,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;;YACzC,IAAI,MAAM,IAAI,EAAE,EAAE;gBAChB,IAAI,CAAC,SAAG,IAAI,CAAC,QAAQ,0CAAE,IAAI,CAAC,CAAC,GAAE,EAAC,CAAC,IAAI,IAAE,IAAI,CAAC,aAAa,CAAC;gBAC1D,IAAG,CAAC,IAAI,SAAS,EAAE;oBACjB,CAAC,GAAG,IAAI,+DAAO,EAAE;oBACjB,UAAI,CAAC,QAAQ,0CAAE,IAAI,CAAC,CAAC,EAAC;iBACvB;gBACD,CAAC,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI;gBACpB,CAAC,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ;gBAC5B,CAAC,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,cAAc,CAAC;gBACpD,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM;gBACxB,IAAI,CAAC,YAAY,EAAE;aACpB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,WAAW,CAAC,OAAgB,EAAE,WAAoB,IAAI;QACpD,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;IACrD,CAAC;IAED,UAAU,CAAC,KAAU;QACnB,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;IAC9B,CAAC;IAED,QAAQ;IACR,CAAC;IAED,YAAY;QACV,IAAG,IAAI,CAAC,QAAQ,IAAI,SAAS,EAAE;YAC7B,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE;YACrC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAClF;IACH,CAAC;IAED,UAAU,CAAC,QAA4B;QACrC,IAAG,QAAQ,IAAI,QAAQ,IAAI,IAAI,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,IAAI,EAAE;YACnE,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,GAAG,CAAC;SAC3C;aAAO;YACN,OAAO,IAAI;SACZ;IACH,CAAC;;kFAlFU,iBAAiB;iGAAjB,iBAAiB;QCZ9B,+EAAc;QACZ,gFAAe;QACb,4EAAmE;QAA3C,yIAAS,mBAAe,IAAC;QAC/C,2EAAU;QAAA,6EAAkB;QAAA,4DAAW;QACzC,4DAAS;QACX,4DAAgB;QAChB,iIAegB;QAClB,4DAAe;;QAhBsB,0DAAW;QAAX,iFAAW;;;;;;;;;;;;;;ACJhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkE;AACd;AAErB;;;;;;;;;;;;;ICkCvB,wEAA4C;IAC1C,uEAAoF;IACtF,qEAAe;;;;IALnB,8DAA2C;IAA3C,wEAA2C;IAEvC,4EAAkH;IAA1C,wWAAyB;IAAjG,4DAAkH;IAClH,oJAEe;IACf,2EAAmB;IAAA,uDAAgB;IAAA,4DAAO;IAC9C,4DAAQ;;;;IALG,0DAA6B;IAA7B,qFAA6B;IACrB,0DAA2B;IAA3B,iGAA2B;IAGvB,0DAAgB;IAAhB,8EAAgB;;;IAKzC,8DAA4B;IAA5B,wEAA4B;IAC1B,uEAA8E;IAC9E,sEAME;IACJ,4DAAQ;;;IARC,0DAAgC;IAAhC,wFAAgC;IAIrC,0DAAsC;IAAtC,8FAAsC;;;ADlCrC,MAAM,iBAAiB;IAoC5B,YACU,YAA0B,EAC1B,cAA8B,EAC/B,EAAqB;QAFpB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,mBAAc,GAAd,cAAc,CAAgB;QAC/B,OAAE,GAAF,EAAE,CAAmB;QArC9B,MAAC,GAAW,IAAI,CAAC;QACjB,MAAC,GAAW,IAAI,CAAC;QACjB,QAAG,GAAqB,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;QACzC,WAAM,GAAc,EAAE;QAEtB,aAAQ,GAAU,EAAE;QACpB,UAAK,GAAW,EAAE;QAClB,UAAK,GAAU,EAAE;QACjB,kBAAa,GAAW,EAAE;QAI1B,gBAAW,GAAY,KAAK,CAAC;QAC7B,iBAAY,GAAY,IAAI,CAAC;QAC7B,aAAQ,GAAW,UAAU,CAAC;QAC9B,UAAK,GAAmB,EAAE;QAc1B,eAAU,GAAqB,IAAI,4CAAO,EAAE,CAAC;QAC7C,eAAU,GAAiB,IAAI,4CAAO,EAAE,CAAC;QACzC,YAAO,GAAqB,IAAI,4CAAO,EAAE,CAAC;QAC1C,mBAAc,GAAG,EAAE,CAAC;QAOlB,YAAY,CAAC,4BAA4B,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CACzD,YAAY,CAAC,kCAAkC,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAE9E,YAAY,CAAC,cAAc,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;QAC5D,YAAY,CAAC,cAAc,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAC5C,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,IAAI,IAAI,0DAAQ,EAAE,CAAC;YAC7D,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;QACrB,CAAC,CAAC;QACF,YAAY,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAC3C,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,IAAI;YAChC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI,0DAAQ,EAAE,CAAC;YAC1C,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,IAAI,IAAI,0DAAQ,EAAE,CAAC;QAC/D,CAAC,CAAC;QACF,YAAY,CAAC,mBAAmB,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YACjD,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,eAAC,wBAAI,CAAC,IAAI,0CAAE,OAAO,0CAAE,IAAI,MAAK,KAAK,IAAC,CAAC;YACxE,IAAG,KAAK,EAAE;gBACR,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;gBACrB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,EAAE,CAAC;aAChC;QACH,CAAC,CAAC;QACF,YAAY,CAAC,qBAAqB,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YACnD,IAAG,IAAI,CAAC,IAAI,EAAE;gBACZ,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC;aAC/B;QACH,CAAC,CAAC;QACF,YAAY,CAAC,wBAAwB,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YACtD,IAAG,IAAI,CAAC,IAAI,EAAE;gBACZ,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,EAAE,KAAK,CAAC;aAC1C;QACH,CAAC,CAAC;QACF,YAAY,CAAC,qBAAqB,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YACnD,IAAG,IAAI,CAAC,IAAI,EAAE;gBACZ,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,KAAK,CAAC;aACrD;QACH,CAAC,CAAC;QACF,YAAY,CAAC,sBAAsB,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YACpD,IAAG,IAAI,CAAC,IAAI,EAAE;gBACZ,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC;aACxB;QACH,CAAC,CAAC;QACF,YAAY,CAAC,wBAAwB,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YACtD,IAAG,IAAI,CAAC,IAAI,EAAE;gBACZ,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC;aACxB;QACH,CAAC,CAAC;IACJ,CAAC;IAnED,cAAc,CAAC,IAAU;;QACvB,aAAO,IAAI,CAAC,IAAI,0CAAE,OAAO,CAAC,OAAO,CAAC;IACpC,CAAC;IAED,SAAS;QACP,IAAI,GAAG,GAAa,EAAE;QACtB,IAAG,IAAI,CAAC,KAAK,EAAE;YACb,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,WAAC,eAAC,CAAC,IAAI,0CAAE,OAAO,CAAC,IAAI,KAAE,EAAE,IAAC;SACpD;QACD,OAAO,GAAG,CAAC;IACb,CAAC;IA2DD,eAAe;QACb,IAAG,IAAI,CAAC,IAAI,EAAE;YACZ,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC;SACxB;IACH,CAAC;IAED,WAAW,CAAC,KAAa;QACvB,IAAI,CAAC,QAAQ,GAAG,KAAK;QACrB,IAAG,IAAI,CAAC,IAAI,EAAE;YACZ,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC;SACxB;IACH,CAAC;IAED,SAAS;QACP,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC;IAC5B,CAAC;IAED,WAAW;QACT,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1B,CAAC;IAED,aAAa;QACX,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,YAAY;IACxC,CAAC;IAED,YAAY,CAAC,KAAa,EAAE,QAAgB,EAAE,QAAe,EAAE,QAAwB;;QACrF,IAAI,OAAO,GAAQ,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAM,EAAE,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,KAAK,CAAC;QAC9D,IAAG,CAAC,OAAO,EAAE;YACX,OAAO,GAAG,EAAC,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,YAAY,EAAE,IAAI,GAAG,EAAE,EAAC;YAC5D,IAAG,OAAO,CAAC,KAAK,IAAI,MAAM,EAAC;gBACzB,OAAO,CAAC,IAAI,GAAG,EAAC,KAAK,EAAE,6BAA6B,EAAC;aACtD;YACD,IAAG,OAAO,CAAC,KAAK,IAAI,QAAQ,EAAC;gBAC3B,OAAO,CAAC,IAAI,GAAG,EAAC,KAAK,EAAE,qBAAqB,EAAC;aAC9C;YACD,IAAG,OAAO,CAAC,KAAK,IAAI,UAAU,EAAC;gBAC7B,OAAO,CAAC,IAAI,GAAG,EAAC,KAAK,EAAE,qBAAqB,EAAC;aAC9C;YACD,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC;SACvB;QACD,OAAO,CAAC,YAAY,CAAC,GAAG,OAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,QAAQ,CAAC,0CAAE,KAAK,CAAC;IACxE,CAAC;IAED,SAAS,CAAC,IAAU;QAClB,IAAI,CAAC,QAAQ,GAAG,IAAI;QACpB,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,IAAI,CAAC;QAC7C,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE;IACzB,CAAC;IAED,eAAe,CAAC,IAAU;;QACxB,OAAO,IAAI,CAAC,EAAE,WAAI,IAAI,CAAC,QAAQ,0CAAE,EAAE;IACrC,CAAC;IAED,KAAK;QACH,IAAI,CAAC,cAAc,GAAG,EAAE;QACxB,IAAI,CAAC,GAAG,IAAI,0DAAQ,EAAE;QACtB,CAAC,CAAC,QAAQ,GAAG,EAAE;QACf,IAAI,CAAC,KAAK,GAAG,EAAE;QACf,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;IACjB,CAAC;IAED,OAAO,CAAC,IAAc;;QACpB,IAAI,CAAC,GAAG,IAAI,0DAAQ,EAAE;QACtB,CAAC,CAAC,QAAQ,GAAG,CAAC,WAAI,CAAC,IAAI,0CAAE,QAAQ,KAAI,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,IAAI,EAAE,CAAC;QACpE,CAAC,CAAC,OAAO,GAAG,CAAC,WAAI,CAAC,IAAI,0CAAE,OAAO,KAAI,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,CAAC;QACjE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;IACjB,CAAC;IAEO,QAAQ;;QACd,IAAG,IAAI,CAAC,QAAQ,KAAK,SAAS,EAAE;YAC9B,OAAO,WAAI,CAAC,IAAI,0CAAE,OAAO,KAAI,EAAE;SAChC;QACD,IAAG,IAAI,CAAC,QAAQ,KAAK,OAAO,IAAI,IAAI,CAAC,KAAK,EAAE;YAC1C,OAAO,IAAI,CAAC,KAAK;SAClB;QACD,OAAO,WAAI,CAAC,IAAI,0CAAE,QAAQ,KAAI,EAAE;IAClC,CAAC;IAEO,cAAc,CAAC,OAAe,EAAE,IAAc;QACpD,iBAAiB;QACjB,IAAI,MAAM,GAAmB,IAAI,CAAC,QAAQ,IAAI,EAAE,CAAC;QACjD,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;QACjE,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC;QACrE,IAAG,OAAO,KAAK,EAAE,EAAE;YACjB,IAAI,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC,MAAM,EAAE,OAAO,CAAC;YACpE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC;YACnB,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YAC5D,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;SAC9E;IACH,CAAC;IAED,OAAO,CAAC,IAAc,EAAE,kBAAsC,SAAS,EAAE,qBAAyC,SAAS,EAAE,kBAAsC,SAAS;QAC1K,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAI,CAAC;QACxC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;QACxB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC;QAE1B,IAAI,MAAM,GAAmB,IAAI,CAAC,QAAQ,EAAE,CAAC;QAC7C,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,CAAC;QAC7D,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC;QACrE,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,eAAe,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC,OAAO,IAAI,eAAe,CAAC;QAE3F,IAAG,IAAI,CAAC,cAAc,KAAK,EAAE,EAAE;YAC7B,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,EAAC,MAAM,EAAE,IAAI,CAAC,cAAc,EAAE,UAAU,EAAE,MAAM,EAAC,EAAE,IAAI,CAAC,cAAc,EAAE,gBAAgB,CAAC;SAC9H;QAED,IAAI,cAAc,GAAG,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAEhM,IAAG,eAAe,EAAE;YAClB,IAAG,cAAc,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,EAAE;gBAChD,cAAc,CAAC,IAAI,CAAC,eAAe,CAAC;aACrC;SACF;aAAM;YACL,IAAG,kBAAkB,EAAE;gBACrB,IAAG,cAAc,CAAC,OAAO,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC,EAAE;oBACnD,cAAc,CAAC,IAAI,CAAC,kBAAkB,CAAC;iBACxC;aACF;SACF;QAED,IAAI,GAAG,GAAW,CAAC;QACnB,IAAI,QAAQ,GAAmB,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,OAAO,EAAE,GAAG,EAAE,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAC,CAAE;QAE7F,IAAI,MAAM,GAAW,CAAC;QACtB,IAAI,KAAK,GAAU,EAAE;QACrB,IAAI,QAAQ,GAAU,EAAE;QAExB,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;YACjB,IAAI,OAAO,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE;;gBACzB,OAAO,EAAC,IAAI,EAAE,EAAE,GAAE,EAAE,MAAM,EAAC,QAAQ,QAAE,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,CAAC,0CAAE,KAAK,EAAE,QAAQ,QAAE,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,CAAC,0CAAE,KAAK,EAAC;YACxI,CAAC,CAAC,CAAC;YACH,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAChC,CAAC,CAAC;QAEF,IAAI,CAAC,KAAK,GAAG,MAAM;aAChB,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,cAAc,CAAC,MAAM,IAAI,CAAC,IAAI,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;aAC9E,GAAG,CAAC,CAAC,CAAC,EAAE;;YACP,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,QAAQ,EAAE,QAAQ,CAAC;YACtD,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;YACzE,OAAO,IAAI,kDAAI,CACb,eAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,CAAC,0CAAE,KAAK,KAAI,YAAY,EAAE,CAAC,CAAC,IAAI,EAClE,IAAI,sDAAQ,CAAC,SAAS,EAAE,CAAC,CAAC,CAC3B;QACH,CAAC,CACF;QAED,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;QAC1I,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAE,0BAAC,CAAC,IAAI,0CAAE,OAAO,CAAC,KAAK,MAAK,CAAC,CAAC,KAAK,IAAC,CAAC,CAAC;QAC5F,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,wBAAC,CAAC,CAAC,IAAI,0CAAE,OAAO,IAAC,CAAC,CAAC;QAC3E,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,KAAK,CAAC;IAC3C,CAAC;IAED,QAAQ;IAER,CAAC;;kFAlPU,iBAAiB;iGAAjB,iBAAiB;QClB9B,6FAA8F;QAApE,yMAAsB,oGAAW,qBAAiB,IAA5B;QAC9C,uFAAgF;QAC9E,2EAAU;QAAA,qEAAU;QAAA,4DAAW;QACjC,4DAAoB;QACpB,uFAA8E;QAC5E,2EAAU;QAAA,+DAAI;QAAA,4DAAW;QAC3B,4DAAoB;QACpB,uFAAmF;QACjF,2EAAU;QAAA,oEAAS;QAAA,4DAAW;QAChC,4DAAoB;QACtB,4DAA0B;QAE1B,6EAAgG;QAAtC,0IAAS,eAAW,IAAC;QAC7E,4EAAU;QAAA,sEAAU;QAAA,4DAAW;QACjC,4DAAS;QAET,6EAAsG;QAAxC,0IAAS,iBAAa,IAAC;QACnF,4EAAU;QAAA,qEAAS;QAAA,4DAAW;QAChC,4DAAS;QAET,wFAAoH;QAA3C,uJAAU,mBAAe,IAAC;QACjG,4EAAU;QAAA,sEAAU;QAAA,4DAAW;QACjC,4DAAoB;QAEpB,gFAUG;QACH,2MASc;QAEd,2MAWc;QAEd,4DAAY;;QA3Dc,iFAAsB;QAoBA,2DAAwB;QAAxB,qFAAwB;QAKtE,0DAAY;QAAZ,yEAAY;;;;;;;;;;;;;;ACvBd;AAAA;AAAA;AAAA;AAAA,IAAY,QAOX;AAPD,WAAY,QAAQ;IAClB,2BAAe;IACf,qBAAS;IACT,+BAAmB;IACnB,yBAAa;IACb,mCAAuB;IACvB,6BAAiB;AACnB,CAAC,EAPW,QAAQ,KAAR,QAAQ,QAOnB;AAEM,MAAM,QAAQ;IAInB,YAAY,KAAa,EAAG,OAAqB;QAHjD,UAAK,GAAW,oBAAoB,CAAC;QACrC,UAAK,GAAW,SAAS,CAAC;QAGxB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACpC,IAAI,CAAC,KAAK,GAAG,KAAK;QAClB,IAAI,CAAC,OAAO,GAAG,OAAO;IACxB,CAAC;IAEO,QAAQ,CAAC,OAAY;QAC3B,IAAG,OAAO,CAAC,WAAW,IAAI,OAAO,EAAE;YACjC,OAAO,oBAAoB,CAAC;SAC7B;QACD,IAAG,OAAO,CAAC,WAAW,IAAI,IAAI,EAAE;YAC9B,OAAO,eAAe,CAAC;SACxB;QACD,IAAG,OAAO,CAAC,WAAW,IAAI,SAAS,EAAE;YACnC,OAAO,oBAAoB,CAAC;SAC7B;QACD,IAAG,OAAO,CAAC,WAAW,IAAI,MAAM,EAAE;YAChC,OAAO,iBAAiB,CAAC;SAC1B;QACD,IAAG,OAAO,CAAC,WAAW,IAAI,OAAO,EAAE;YACjC,OAAO,0BAA0B,CAAC;SACnC;QACD,IAAG,OAAO,CAAC,WAAW,IAAI,QAAQ,CAAC,MAAM,EAAE;YACzC,OAAO,wBAAwB,CAAC;SACjC;QACD,OAAO,sBAAsB,CAAC;IAChC,CAAC;CACF;AAEM,MAAM,IAAI;IAIf,YAAY,EAAU,EAAE,KAAa,EAAE,IAAe;QACpD,IAAI,CAAC,EAAE,GAAG,EAAE;QACZ,IAAI,CAAC,KAAK,GAAG,KAAK;QAClB,IAAI,CAAC,IAAI,GAAG,IAAI;IAClB,CAAC;CACF;;;;;;;;;;;;;ACrDD;AAAA;AAAA,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,MAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;IACjB,UAAU,EAAE,KAAK;CAClB,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;;ACbnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsD;AACW;;;;;;;;;;;ICJjE,+EAA+B;IAC3B,gFAAe;IACb,wEAAO;IAAA,uDAAiC;IAAA,4DAAQ;IAChD,uEAAM;IAAA,iEAAM;IAAA,4DAAO;IACnB,4EAAsG;IAAnE,4eAAkE;IACnG,2EAAU;IAAA,+DAAI;IAAA,4DAAW;IAC3B,4DAAS;IACX,4DAAgB;IACpB,4DAAe;;;IANF,0DAAiC;IAAjC,uNAAiC;;ADM9C,MAAM,IAAI;IAAV;QACE,kBAAa,GAAwB,SAAS;IAChD,CAAC;CAAA;AAOM,MAAM,yBAAyB;IAYpC,YAAoB,YAA0B,EAAU,kBAAsC,EACpF,cAA8B;QADpB,iBAAY,GAAZ,YAAY,CAAc;QAAU,uBAAkB,GAAlB,kBAAkB,CAAoB;QACpF,mBAAc,GAAd,cAAc,CAAgB;QAVxC,SAAI,GAAS,IAAI,IAAI,EAAE,CAAC;QAKxB,gBAAW,GAAG,IAAI,mEAAiB,CAAQ,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAEjE,eAAU,GAAG,IAAI,8EAAuB,EAAS,CAAC;QAuBlD,aAAQ,GAAG,CAAC,CAAS,EAAE,IAAW,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC;QAnB/E,YAAY,CAAC,kBAAkB,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;;YAChD,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,UAAU,CAAC,IAAI,qBAAG,IAAI,CAAC,QAAQ,0CAAE,IAAI,0CAAE,OAAO,0CAAE,MAAM,CAAC;YAC5D,IAAI,CAAC,YAAY,CAAC,kCAAkC,CAAC,KAAK,CAAC,CAAC;QAC9D,CAAC,CAAC;QACF,YAAY,CAAC,+BAA+B,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAC7D,IAAI,CAAC,mBAAmB,GAAG,KAAK;QAClC,CAAC,CAAC;QACF,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YACjD,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC;YAC1B,IAAI,CAAC,mBAAmB,GAAG,SAAS,CAAC;YACrC,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;QAClC,CAAC,CAAC;QACF,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAChD,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,IAAI,CAAC;QACnC,CAAC,CAAC;IACJ,CAAC;IAID,WAAW,CAAC,OAA2B;QACrC,IAAG,OAAO,EAAE;YACV,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,OAAO,CAAC;SAChD;IACH,CAAC;IAED,yBAAyB,CAAC,WAA+B;QACvD,IAAG,WAAW,EAAE;YACd,IAAI,CAAC,cAAc,CAAC,0BAA0B,CAAC,WAAW,CAAC;SAC5D;IACH,CAAC;IAED,eAAe,CAAC,SAA6B;QAC3C,IAAG,SAAS,EAAE;YACZ,IAAI,CAAC,YAAY,CAAC,wBAAwB,CAAC,SAAS,CAAC,CAAC;SACvD;IACH,CAAC;IAED,kBAAkB,CAAC,SAA6B;QAC9C,IAAG,SAAS,EAAE;YACZ,IAAI,CAAC,YAAY,CAAC,2BAA2B,CAAC,SAAS,CAAC,CAAC;SAC1D;IACH,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,YAAY,CAAC,yBAAyB,EAAE,CAAC;IAChD,CAAC;IAED,OAAO;;QACH,yBAAO,IAAI,CAAC,QAAQ,0CAAE,IAAI,0CAAE,OAAO,0CAAE,WAAW,CAAC;IACrD,CAAC;IAED,SAAS;;QACP,yBAAO,IAAI,CAAC,QAAQ,0CAAE,IAAI,0CAAE,OAAO,0CAAE,UAAU,CAAC;IAClD,CAAC;IAED,SAAS;;QACP,yBAAO,IAAI,CAAC,QAAQ,0CAAE,IAAI,0CAAE,OAAO,0CAAE,MAAM,CAAC;IAC9C,CAAC;IAED,aAAa;;QACX,IAAI,CAAC,kBAAkB,CAAC,oBAAoB,aAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,0CAAE,OAAO,0CAAE,UAAU,CAAC;aAClF,SAAS,CACR,WAAW,CAAC,EAAE;YACZ,KAAK,CAAC,WAAW,CAAC;QACpB,CAAC,EACD,KAAK,CAAC,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;YAClB,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC;QACtB,CAAC,CACF;IACL,CAAC;IAED,WAAW;;QACT,OAAO,IAAI,CAAC,cAAc,CAAC,qBAAqB,mBAAC,IAAI,CAAC,QAAQ,0CAAE,IAAI,0CAAE,OAAO,0CAAE,IAAI,CAAC;aACnF,SAAS,CACR,CAAC,QAAa,EAAE,EAAE;YAChB,IAAI,CAAC,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,IAAI;QACzC,CAAC,CACF;IACH,CAAC;IAED,QAAQ;IACR,CAAC;IAED,WAAW,CAAC,KAAuB;QACjC,IAAI,CAAC,YAAY,CAAC,sBAAsB,CAAC,KAAK,CAAC;IACjD,CAAC;;kGAtGU,yBAAyB;yGAAzB,yBAAyB;QCjBtC,uIAQe;;QARA,8EAAc;;;;;;;;;;;;;;ACE7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2C;AAEG;;;;;;;ICH1C,qFAAiI;IAAnF,uXAA4B;IACxE,uDACF;IAAA,4DAAkB;;;;IAFyE,iHAAqC;IAArD,2EAAe;IACxF,0DACF;IADE,oFACF;;ADSG,MAAM,oBAAoB;IAI/B,YAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;QAF9C,WAAM,GAAa,EAAE,CAAC;QAetB,cAAS,GAAG,IAAI,0DAAW,EAAE,CAAC;QAZ5B,YAAY,CAAC,eAAe,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAC7C,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAD,CAAC,uBAAD,CAAC,CAAE,IAAI,CAAC,IAAE,EAAE,CAAC,CAAC,IAAI,EAAE;QACpD,CAAC,CAAC;QACF,YAAY,CAAC,kBAAkB,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;;YAChD,IAAI,CAAC,aAAa,SAAG,KAAK,CAAC,IAAI,0CAAE,OAAO,CAAC,IAAI,CAAC;QAChD,CAAC,CAAC;IACJ,CAAC;IAED,WAAW,CAAC,KAAuB;QACjC,IAAI,CAAC,YAAY,CAAC,sBAAsB,CAAC,KAAK,CAAC;IACjD,CAAC;IAKD,QAAQ;QACN,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY;aAC/C,IAAI,CACH,gEAAS,CAAC,EAAE,CAAC,EACb,0DAAG,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAClC,CAAC;IACN,CAAC;IAEO,OAAO,CAAC,KAAa;QAC3B,MAAM,WAAW,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;QAExC,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACpF,CAAC;;wFAhCU,oBAAoB;oGAApB,oBAAoB;QCZ/B,2FAAkD;QAChD,wIAEkB;QACpB,4DAAqB;;QAJU,2EAAkB;QACZ,0DAAS;QAAT,+EAAS;;;;;;;;;;;;;;;;;;;;ACMzC,MAAM,YAAY;IALzB;QAME,UAAK,GAAG,UAAU,CAAC;KACpB;;wEAFY,YAAY;4FAAZ,YAAY;QCPzB,2EAA+B;;;;;;;;;;;;;;ACA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8F;AAE1C;;;;;;;;;;;;ICO9C,8EAGwC;IAFtC,6WAA8B;IAG9B,uDACF;IAAA,4DAAW;;;;IAFT,mHAAqC;IADrC,yGAAsC;IAEtC,0DACF;IADE,sFACF;;ADFC,MAAM,oBAAoB;IAc/B,YAAoB,YAA0B,EAAU,aAA6B;QAAjE,iBAAY,GAAZ,YAAY,CAAc;QAAU,kBAAa,GAAb,aAAa,CAAgB;QAXrF,aAAQ,GAAa,EAAE;QACvB,oBAAe,GAAc,EAAE;QAC/B,aAAQ,GAAG,UAAU;QAGrB,mBAAc,GAAG,IAAI,0DAAY,EAAW,CAAC;QAO3C,YAAY,CAAC,kBAAkB,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAChD,IAAI,CAAC,YAAY,CAAC,kCAAkC,CAAC,KAAK,CAAC,CAAC;QAC9D,CAAC,CAAC;QAEF,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAChD,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,IAAI,CAAC;YACjC,IAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;gBACtC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC/B,IAAG,KAAK,CAAC,OAAO,KAAK,IAAI,EAAE;oBACzB,IAAI,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,KAAK,CAAC,IAAI,CAAC;oBACjE,IAAG,CAAC,KAAK,EAAE;wBACT,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC;wBAChC,IAAG,IAAI,CAAC,eAAe,CAAC,MAAM,IAAI,EAAE,EAAE;4BACpC,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE;yBAC7B;qBACF;yBAAM;wBACL,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK;qBAClE;iBACF;aACF;YACD,IAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,EAAE,EAAE;gBAC7B,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE;aACtB;QACH,CAAC,CAAC;QAEF,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YACjD,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;QAClC,CAAC,CAAC;IACJ,CAAC;IAjCD,YAAY;QACR,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACnC,CAAC;IAAA,CAAC;IAiCF,QAAQ;IACR,CAAC;IAED,UAAU;QACR,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;IAC9C,CAAC;IAED,YAAY;QACV,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;IAChD,CAAC;IAED,KAAK;QACH,IAAI,CAAC,QAAQ,GAAG,EAAE;QAClB,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE;IACvC,CAAC;IAED,WAAW,CAAC,OAA2B;QACrC,IAAG,OAAO,EAAE;YACV,IAAI,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,OAAO,CAAC;YAChE,IAAG,OAAO,EAAE;gBACV,IAAI,CAAC,aAAa,CAAC,0BAA0B,CAAC,OAAO,CAAC;aACvD;iBAAM;gBACL,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,OAAO,CAAC;aAChD;SACF;IACH,CAAC;IAED,WAAW;QACT,IAAG,IAAI,CAAC,cAAc,EAAE;YACtB,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC;YACzD,IAAG,QAAQ,GAAG,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE;gBACtC,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC;aACpC;SACF;QACD,OAAO,SAAS,CAAC;IACnB,CAAC;IAED,WAAW;QACT,IAAG,IAAI,CAAC,cAAc,EAAE;YACtB,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC;YACzD,IAAG,QAAQ,GAAG,CAAC,EAAE;gBACf,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC;aACpC;SACF;QACD,OAAO,SAAS,CAAC;IACnB,CAAC;;wFA3FU,oBAAoB;oGAApB,oBAAoB;QCZjC,yEAAoB;QAClB,yEAAuD;QACrD,4EAAsE;QAAzB,4IAAS,kBAAc,IAAC;QACnE,2EAAU;QAAA,sEAAW;QAAA,4DAAW;QAClC,4DAAS;QAET,uEAAM;QAAA,iEAAM;QAAA,4DAAO;QAEnB,mFAAyE;QACvE,0HAKW;QACb,4DAAgB;QAElB,4DAAM;QACN,yEAAyD;QACvD,6EAA2E;QAAlB,6IAAS,WAAO,IAAC;QACxE,4EAAU;QAAA,iEAAK;QAAA,4DAAW;QAC5B,4DAAS;QACX,4DAAM;QACR,4DAAM;;QAd8B,0DAAW;QAAX,iFAAW;;;;;;;;;;;;;;ACH/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqE;;;;;;;;;;;;;;;ICMrD,iFAA2D;IAAA,uDAAS;IAAA,4DAAa;;;IAAxC,sFAAiB;IAAC,0DAAS;IAAT,yEAAS;;;IAiBpE,iFAA4E;IAAA,uDAAgB;IAAA,4DAAa;;;IAAtD,6FAAwB;IAAC,0DAAgB;IAAhB,gFAAgB;;;IAQ5F,iFAAmG;IAAA,uDAAgB;IAAA,4DAAa;;;IAAtD,6FAAwB;IAAC,0DAAgB;IAAhB,gFAAgB;;;;IArCnI,wEAAoD;IAEhD,sFAAqB;IACjB,6FAA4B;IAC1B,kFAAiB;IACb,uDACJ;IAAA,4DAAkB;IACpB,4DAA6B;IAE7B,oFAAkC;IAC9B,gFAAoC;IAAxB,wWAAuB;IAC/B,6EAAY;IAAA,+DAAI;IAAA,4DAAa;IAC7B,qJAAiF;IACrF,4DAAa;IACjB,4DAAiB;IAEjB,qFAAkC;IAC9B,6EAAW;IAAA,4EAAgB;IAAA,4DAAY;IACvC,iFAAyC;IAA7B,gXAA4B;IACpC,8EAAY;IAAA,gEAAI;IAAA,4DAAa;IAC7B,iFAAuB;IAAA,8DAAE;IAAA,4DAAa;IACtC,iFAAwB;IAAA,+DAAG;IAAA,4DAAa;IAC5C,4DAAa;IACjB,4DAAiB;IAEjB,qFAAkC;IAC9B,6EAAW;IAAA,yEAAa;IAAA,4DAAY;IACpC,iFAA8F;IAAlF,yXAAqC;IAC7C,iFAA8B;IAAA,gEAAI;IAAA,4DAAa;IAC/C,uJAAyG;IAC7G,4DAAa;IACjB,4DAAiB;IAEjB,qFAAkC;IAC9B,6EAAW;IAAA,8EAAkB;IAAA,4DAAY;IACzC,iFAAsD;IAA1C,6XAAyC;IACjD,8EAAY;IAAA,gEAAI;IAAA,4DAAa;IAC7B,uJAAgI;IACpI,4DAAa;IACjB,4DAAiB;IAEjB,kFAAgB;IACZ,6EAAiM;IAApB,0UAAmB;IAC5L,4EAAU;IAAA,+DAAG;IAAA,4DAAW;IAC5B,4DAAS;IACb,4DAAiB;IACrB,4DAAsB;IAE1B,qEAAe;;;IA3CD,0DACJ;IADI,iHACJ;IAIc,0DAAuB;IAAvB,qFAAuB;IAED,0DAAS;IAAT,kFAAS;IAM/B,0DAA4B;IAA5B,0FAA4B;IAS5B,2DAAqC;IAArC,mGAAqC;IAEb,0DAAiB;IAAjB,0FAAiB;IAMzC,0DAAyC;IAAzC,uGAAyC;IAEjB,0DAAwC;IAAxC,gNAAwC;;;;IAepF,gFAAuD;IACrD,6EAAqF;IAA3B,sXAA0B;IAClF,2EAAU;IAAA,iEAAM;IAAA,4DAAW;IAC7B,4DAAS;IACT,wEAAO;IAAA,uDAAgB;IAAA,4DAAQ;IAC/B,uEAAM;IAAA,iEAAM;IAAA,4DAAO;IACnB,wEAAO;IAAA,uDAAiB;IAAA,4DAAQ;IAChC,wEAAM;IAAA,kEAAM;IAAA,4DAAO;IACnB,yEAAO;IAAA,wDAAsB;IAAA,4DAAQ;IACrC,wEAAM;IAAA,kEAAM;IAAA,4DAAO;IACnB,yEAAO;IAAA,wDAAmB;IAAA,4DAAQ;IAClC,wEAAM;IAAA,kEAAM;IAAA,4DAAO;IACrB,4DAAgB;;;IARP,0DAAgB;IAAhB,iFAAgB;IAEhB,0DAAiB;IAAjB,kFAAiB;IAEjB,0DAAsB;IAAtB,uFAAsB;IAEtB,0DAAmB;IAAnB,oFAAmB;;ADjDzB,MAAM,4BAA4B;IAmCvC,YACwC,IAAsE,EACpG,eAAgE,EAChE,cAA8B,EAAU,eAAgC;QAF1C,SAAI,GAAJ,IAAI,CAAkE;QACpG,oBAAe,GAAf,eAAe,CAAiD;QAChE,mBAAc,GAAd,cAAc,CAAgB;QAAU,oBAAe,GAAf,eAAe,CAAiB;QApClF,oBAAe,GAAY,EAAE,CAAC;QAC9B,iBAAY,GAAY,EAAE,CAAC;QAC3B,UAAK,GAAQ,SAAS,CAAC;QACvB,YAAO,GAAa,EAAE,CAAC;QAwBvB,mBAAc,GAAe,SAAS,CAAC;QACvC,0BAAqB,GAAa,SAAS,CAAC;QAC5C,8BAAyB,GAAW,MAAM,CAAC;QAC3C,kCAA6B,GAAW,MAAM,CAAC;QAC/C,qBAAgB,GAAW,MAAM,CAAC;QAOhC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,cAAc,CAAC;QAC3C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC;QACrC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC;QAE3B,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,cAAc,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,KAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,GAAE,EAAC,CAAC,MAAM,IAAI,IAAI,CAAC,CAAC;IAC/G,CAAC;IAxCD,IAAa,cAAc,CAAC,KAAyB;QACnD,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,WAAW,EAAE;IACpB,CAAC;IACD,IAAI,cAAc;QACf,OAAO,IAAI,CAAC,eAAe,CAAC;IAC/B,CAAC;IAED,IAAa,WAAW,CAAC,KAAa;QACpC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;IAC5B,CAAC;IACD,IAAI,WAAW;QACZ,OAAO,IAAI,CAAC,YAAY,IAAI,EAAE,CAAC;IAClC,CAAC;IAED,IAAa,MAAM,CAAC,KAAe;QACjC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACvB,CAAC;IACD,IAAI,MAAM;QACP,OAAO,IAAI,CAAC,OAAO,IAAI,EAAE,CAAC;IAC7B,CAAC;IAsBD,aAAa,CAAC,OAAgB;QAC5B,IAAI,CAAC,qBAAqB,GAAG,OAAO,CAAC;QACrC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,SAAS,CAAC,GAAE,EAAE,GAAC,CAAC,CAAC,CAAC;IACnF,CAAC;IAED,cAAc,CAAC,KAAU;;QACvB,UAAI,CAAC,cAAc,0CAAE,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,KAAK,CAAC,KAAK,EACnD,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE;IACzC,CAAC;IAED,OAAO;;QACL,IAAG,IAAI,CAAC,eAAe,EAAE;YACvB,IAAI,IAAI,GAAG,EAAC,QAAQ,EAAE,IAAI,CAAC,gBAAgB,EAAE,OAAO,EAAE,IAAI,CAAC,YAAY,EAAE,aAAa,QAAE,IAAI,CAAC,qBAAqB,0CAAE,IAAI,EAAE,UAAU,EAAE,IAAI,CAAC,6BAA6B,EAAC;YACzK,IAAG,CAAC,IAAI,CAAC,KAAK,EAAE;gBACd,IAAI,CAAC,KAAK,GAAG,EAAC,MAAM,EAAE,IAAI,CAAC,eAAe,EAAE,aAAa,EAAE,EAAE,EAAC;aAC/D;YACD,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC;YACjC,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,eAAe,EAAE,aAAa,CAAC;SACrF;IACH,CAAC;IAED,UAAU,CAAC,IAAS;;QAClB,IAAG,IAAI,CAAC,eAAe,EAAE;YACvB,IAAI,GAAG,eAAG,IAAI,CAAC,KAAK,0CAAE,WAAW,0CAAE,OAAO,CAAC,IAAI,CAAC;YAChD,IAAG,GAAG,KAAM,CAAC,CAAC,EAAE;gBACd,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC;gBACrC,IAAI,WAAW,GAAG,IAAI,CAAC,KAAK;gBAC5B,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,WAAW,EAAE,IAAI,CAAC,eAAe,EAAE,aAAa,CAAC;aACtF;SACF;IACH,CAAC;IAED,QAAQ;IACR,CAAC;IAED,WAAW;QACT,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC;QACvB,IAAG,IAAI,CAAC,eAAe,EAAE;YACvB,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,IAAI,CAAC,eAAe,EAAE,aAAa,CAAC;iBACvE,SAAS,CACR,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,GAAI,GAAW,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,EACxD,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,GAAG,CAAC,EACrC,GAAG,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAC7C,CAAC;SACH;IACH,CAAC;;wGA9FU,4BAA4B,kEAoC7B,oFAAqB;4GApCpB,4BAA4B;QCbzC,2IAgDe;QAEf,+EAAc;QACV,gFAAe;QAAA,uDAA+C;QAAA,4DAAgB;QAC9E,6IAYgB;QACpB,4DAAe;;QAjEA,uGAAmC;QAmD/B,0DAA+C;QAA/C,yHAA+C;QAC9B,0DAAqB;QAArB,qHAAqB;;;;;;;;;;;;;;ACnDzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2E;AAGtC;;;;AAG9B,MAAM,WAAW;CAIvB;AAKM,MAAM,cAAc;IAIzB,YAAoB,IAAgB,EAAU,cAA8B;QAAxD,SAAI,GAAJ,IAAI,CAAY;QAAU,mBAAc,GAAd,cAAc,CAAgB;QAF5E,aAAQ,GAAkB,EAAE,CAAC;IAEmD,CAAC;IAEjF,YAAY,CAAC,SAAiB;QAC5B,IAAI,MAAM,GAAG,IAAI,+DAAU,EAAE,CAAC,GAAG,CAAC,IAAI,EAAG,SAAS,CAAC;QACnD,MAAM,CAAC,MAAM,CAAC,IAAI,EAAG,SAAS,CAAC;QAE/B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE,YAAY,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC;aAC/D,IAAI,CAAC,0DAAG,CAAC,CAAC,KAAK,EAAC,EAAE;YACjB,IAAI,CAAC,GAAG,IAAI,WAAW,EAAE;YACzB,CAAC,CAAC,SAAS,GAAC,SAAS,CAAC;YACtB,CAAC,CAAC,KAAK,GAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;YACzB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACtB,OAAO,KAAK,CAAC,QAAQ,EAAE,CAAC;QAC1B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,UAAU,CAAC,OAAoB;QAC7B,IAAI,MAAM,GAAG,IAAI,+DAAU,EAAE,CAAC,GAAG,CAAC,OAAO,EAAG,OAAO,CAAC,KAAK,CAAC;QAC1D,MAAM,CAAC,MAAM,CAAC,OAAO,EAAG,OAAO,CAAC,KAAK,CAAC;QACtC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,EAAE,YAAY,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC;IACnE,CAAC;IAED,iBAAiB;QACf,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAY,cAAc,CAAC;IACjD,CAAC;IAED,kBAAkB,CAAC,IAAS;QAC1B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAM,cAAc,EAAE,IAAI,CAAC;IAClD,CAAC;;4EAhCU,cAAc;iGAAd,cAAc,WAAd,cAAc,mBAFb,MAAM;;;;;;;;;;;;;ACdpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkE;AACR;AAEX;AACyB;AACG;AACG;AAEtB;AACT;AAC8B;AACxB;AACJ;AAEY;AACF;AACa;AACjB;AACI;AACJ;AACA;AACS;AACP;AACc;AAChB;AACM;AACiB;AACjB;AACE;AACE;AACV;AACM;AACJ;AACuD;AACrD;AAEF;AACD;AACL;AAE+B;AACG;AACY;AACT;AACA;AACH;AACR;AAC2C;AACf;AACA;AAC1D;AACK;AAC8D;AACrC;AACe;AAEnB;;;AAoElE,MAAM,SAAS;;kEAAT,SAAS;yFAAT,SAAS,cAFR,2DAAY;8FANb;QACT,EAAE,OAAO,EAAE,sEAAiB,EAAE,QAAQ,EAAE,sFAAgB,EAAE,KAAK,EAAE,IAAI,EAAE;QACvE,EAAE,OAAO,EAAE,gEAAgB,EAAE,QAAQ,EAAE,oEAAoB,EAAE;QAC7D,EAAE,OAAO,EAAE,qFAAqB,EAAE,QAAQ,EAAE,EAAE,EAAE;QAChD,EAAE,OAAO,EAAE,iFAAiB,EAAE,QAAQ,EAAE,EAAE,EAAE;KAC7C,YAzCQ;YACP,4DAAY;YACZ,0DAAW;YACX,kEAAmB;YACnB,uEAAa;YACb,oEAAgB;YAChB,qEAAgB;YAChB,kEAAc;YACd,4FAAuB;YACvB,2EAAgB;YAChB,yEAAe;YACf,sFAAqB;YACrB,qEAAa;YACb,yEAAe;YACf,qEAAa;YACb,qEAAa;YACb,8EAAiB;YACjB,uEAAc;YACd,qFAAqB;YACrB,qEAAa;YACb,2EAAgB;YAChB,4FAAwB;YACxB,2EAAgB;YAChB,6EAAiB;YACjB,+EAAkB;YAClB,qEAAa;YACb,2EAAgB;YAChB,uEAAc;YACd,oFAAoB;YACpB,yEAAe;YACf,uEAAe;YACf,8DAAe;YACf,sEAAgB;YAChB,6DAAY,CAAC,cAAc,CAAC,EAAE,CAAC;YAC/B,iEAAkB;SACnB;oIASU,SAAS,mBAhElB,2DAAY;QACZ,yFAAiB;QACjB,+FAAkB;QAClB,kGAAmB;QACnB,8GAAuB;QACvB,qGAAoB;QACpB,qGAAoB;QACpB,kGAAmB;QACnB,0FAAiB;QACjB,qIAA8B;QAC9B,sHAAyB;QACzB,sHAAyB;QACzB,+HAA4B;QAC5B,0FAAiB;QACjB,yGAAsB,aAOtB,4DAAY;QACZ,0DAAW;QACX,kEAAmB;QACnB,uEAAa;QACb,oEAAgB;QAChB,qEAAgB;QAChB,kEAAc;QACd,4FAAuB;QACvB,2EAAgB;QAChB,yEAAe;QACf,sFAAqB;QACrB,qEAAa;QACb,yEAAe;QACf,qEAAa;QACb,qEAAa;QACb,8EAAiB;QACjB,uEAAc;QACd,qFAAqB;QACrB,qEAAa;QACb,2EAAgB;QAChB,4FAAwB;QACxB,2EAAgB;QAChB,6EAAiB;QACjB,+EAAkB;QAClB,qEAAa;QACb,2EAAgB;QAChB,uEAAc;QACd,oFAAoB;QACpB,yEAAe;QACf,uEAAe;QACf,8DAAe;QACf,sEAAgB,iEAEhB,iEAAkB;;;;;;;;;;;;;ACjHtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyE;;;;;;AAclE,MAAM,sBAAsB;IAEjC,YACS,SAA+C,EACtB,IAAgB;QADzC,cAAS,GAAT,SAAS,CAAsC;QACtB,SAAI,GAAJ,IAAI,CAAY;IAC/C,CAAC;IAEJ,SAAS;QACP,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;IACzB,CAAC;;4FATU,sBAAsB,0MAIvB,wEAAe;sGAJd,sBAAsB;QCfnC,wEAAqB;QAAA,kEAAO;QAAA,4DAAK;QACjC,qFAAoB;QAClB,yEAAa;QAAA,2EAA+B;QAAxB,6LAAuB;QAA9B,4DAA+B;QAAA,gEAAM;QAClD,qEAAS;QAAA,2EAAmC;QAA5B,iMAA2B;QAAlC,4DAAmC;QAAA,gEAAM;QAClD,kFAAwC;QAA1B,sMAAyB;QAAC,kEAAM;QAAA,4DAAe;QAAA,iEAAM;QACnE,+EAA+D;QAAlC,2MAAiC;QAAC,4DAAW;QAC5E,4DAAqB;QACrB,sFAAoB;QAClB,6EAAoC;QAAA,kEAAM;QAAA,4DAAS;QACnD,6EAA6C;QAAA,gEAAI;QAAA,4DAAS;QAC5D,4DAAqB;;QARC,0DAAuB;QAAvB,kFAAuB;QAC3B,0DAA2B;QAA3B,sFAA2B;QAC7B,0DAAyB;QAAzB,oFAAyB;QACV,0DAAiC;QAAjC,4FAAiC;QAI3C,0DAAyB;QAAzB,sFAAyB;;;;;;;;;;;;;;ACR9C;AAAA;AAAA;AAAA;AAAA;AAAoF;;;;AAM7E,MAAM,kBAAkB;IAE7B,YAAoB,IAAgB,EAAU,cAA8B;QAAxD,SAAI,GAAJ,IAAI,CAAY;QAAU,mBAAc,GAAd,cAAc,CAAgB;QACpE,UAAK,GAAG,IAAI,yEAAoB,EAAE;IADsC,CAAC;IAEzE,SAAS;;QACf,UAAG,IAAI,CAAC,cAAc,CAAC,cAAc,0CAAE,cAAc,EAAE;YACrD,MAAM,MAAM,SAAQ,IAAI,CAAC,cAAc,CAAC,cAAc,0CAAE,cAAc;YACtE,OAAO,MAAM,CAAC,MAAM,GAAG,GAAG;SAC3B;QACD,OAAO,EAAE;IACX,CAAC;IAED,oBAAoB,CAAC,QAAgB;QACnC,IAAI,MAAM,GAAG,IAAI,+DAAU,EAAE,CAAC,GAAG,CAAC,UAAU,EAAE,kBAAkB,CAAC,QAAQ,CAAC,CAAC;QAC3E,IAAI,GAAG,GAAW;YAChB,MAAM;YACN,YAAY,EAAE,MAAgB;SAC/B;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAS,oBAAoB,EAAE,GAAG,CAAC;IACzD,CAAC;;oFAnBU,kBAAkB;qGAAlB,kBAAkB,WAAlB,kBAAkB,mBAFjB,MAAM;;;;;;;;;;;;;ACJpB;AAAA;AAAA;AAAA;AAA8F;;AAGvF,MAAM,gBAAgB;IAE3B,SAAS,CAAC,GAAqB,EAAE,IAAiB;QAChD,MAAM,WAAW,GAAG,GAAG,CAAC,KAAK,CAAC;YAC5B,OAAO,EAAE,IAAI,gEAAW,CAAC;gBACvB,eAAe,EAAE,UAAU;gBAC3B,QAAQ,EAAE,UAAU;gBACpB,SAAS,EAAE,+BAA+B;aAC3C,CAAC;SACH,CAAC,CAAC;QAEH,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;IAClC,CAAC;;gFAZU,gBAAgB;mGAAhB,gBAAgB,WAAhB,gBAAgB;;;;;;;;;;;;;ACH7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2E;AACI;AAC3B;AACP;AAEc;AAEO;AACnB;AAEJ;;;;;AAOpC,MAAM,cAAc;IAsDzB,YAAoB,IAAgB,EAAU,eAAgC,EAAU,YAA0B;QAA9F,SAAI,GAAJ,IAAI,CAAY;QAAU,oBAAe,GAAf,eAAe,CAAiB;QAAU,iBAAY,GAAZ,YAAY,CAAc;QApDlH,eAAU,GAAe,SAAS,CAAC;QAEnC,mBAAc,GAAa,SAAS,CAAC;QAErC,YAAO,GAAG;YACR,sBAAsB,EAAE;gBACtB,UAAU,EAAE;oBACV,KAAK,EAAE;wBACL,EAAC,QAAQ,EAAE,EAAC,SAAS,EAAE,KAAK,EAAC,EAAC;wBAC9B,EAAC,QAAQ,EAAE,EAAC,KAAK,EAAE,IAAI,EAAC,EAAC;qBAC1B;oBACD,UAAU,EAAE;wBACR,YAAY,EAAE;4BACZ,MAAM,EAAE,aAAa;yBACtB;qBACJ;iBACF;gBACD,QAAQ,EAAE,CAAC,MAAM,CAAC;gBAClB,OAAO,EAAE,IAAI;aACd;YACD,sBAAsB,EAAE;gBACtB,UAAU,EAAE;oBACV,KAAK,EAAE;wBACL,EAAC,QAAQ,EAAE,EAAC,SAAS,EAAE,KAAK,EAAC,EAAC;wBAC9B,EAAC,QAAQ,EAAE,EAAC,KAAK,EAAE,IAAI,EAAC,EAAC;qBAC1B;oBACD,UAAU,EAAE;wBACR,YAAY,EAAE;4BACZ,MAAM,EAAE,aAAa;yBACtB;qBACJ;iBACF;gBACD,QAAQ,EAAE,CAAC,MAAM,EAAE,UAAU,CAAC;gBAC9B,OAAO,EAAE,IAAI;aACd;YACD,uBAAuB,EAAE;gBACvB,UAAU,EAAE;oBACV,aAAa,EAAE;wBACX,YAAY,EAAE;4BACZ,eAAe,EAAE,eAAe;yBACjC;qBACJ;iBACF;gBACD,QAAQ,EAAE;oBACR,MAAM;oBACN,aAAa;iBACd;gBACD,OAAO,EAAE,IAAI;aACd;SACJ;QAIG,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAC/C,+CAAE,CAAC,KAAK,CAAC;gBACT,IAAI,CACF,+DAAQ,CAAC,GAAE,EAAE,KAAI,CAAC,IAAI,CAAC,GAAG,CAAY,cAAc,CAAC,CAAC,EACtD,0DAAG,CAAC,CAAC,QAAmB,EAAC,EAAE,SAAQ,CAAC,IAAI,CAAC,CAAC,GAAE,EAAC,CAAC,IAAI,IAAE,KAAK,CAAC,CAAC;YAC3D,oDAAoD;YACpD,0DAAG,CAAC,OAAO,GAAE,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CACxC;gBACD,SAAS,CAAC,CAAC,CAAC,EAAC,EAAE,QAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAChC,CAAC,CAAC;QACF,YAAY,CAAC,kBAAkB,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAChD,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC5B,CAAC,CAAC;IACJ,CAAC;IAED,WAAW;QACT,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAY,cAAc,CAAC;IACjD,CAAC;IAED,YAAY,CAAC,QAAmB;QAC9B,IAAI,GAAG,GAAW;YACf,YAAY,EAAE,MAAgB;SAChC;QACD,IAAI,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,wDAAO,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,cAAc,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;QAC3H,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAS,cAAc,EAAE,aAAa,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,+DAAQ,CAAC,CAAC,GAAW,EAAE,EAAE,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC;IAC9H,CAAC;IAEF,kBAAkB;QACf,IAAI,GAAG,GAAW;YAChB,YAAY,EAAE,MAAgB;SAC/B;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAS,sBAAsB,EAAE,EAAE,EAAE,GAAG,CAAC;IAChE,CAAC;IAED,UAAU,CAAC,IAAY;QACrB,OAAO,+CAAE,CAAC,IAAI,CAAC;YACf,IAAI,CACF,+DAAQ,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,EAClC,0DAAG,CAAC,CAAC,QAAmB,EAAE,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC,CAC9E;IACH,CAAC;IAEO,kBAAkB,CAAC,OAAgB;QACzC,IAAG,OAAO,CAAC,MAAM,IAAI,IAAI,EAAE;YACzB,OAAO,IAAI,CAAC,uBAAuB,CAAC,OAAO,CAAC,IAAI,CAAC;iBAC9C,IAAI,CACD,0DAAG,CAAC,CAAC,KAAqC,EAAE,EAAE;;gBAC5C,WAAK,CAAC,IAAI,0CAAE,OAAO,CAAC,GAAG,CAAC,EAAE;;oBACxB,SAAG,CAAC,WAAW,0CAAE,OAAO,CAAC,IAAI,CAAC,EAAE;;wBAC9B,IAAI,KAAK,SAAG,OAAO,CAAC,IAAI,0CAAE,QAAQ,CAAC,IAAI,CAAC,CAAC,GAAE,EAAC,CAAC,IAAI,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC;wBACtE,IAAG,KAAK,EAAE;4BACR,IAAI,MAAM,GAAG,IAAI,wDAAO,EAAE,CAAC;4BAC3B,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,IAAI,EAAE,CAAC;4BACjC,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC;4BAChC,MAAM,CAAC,WAAW,GAAG,sDAAQ,CAAC,MAAM,CAAC;4BACrC,MAAM,CAAC,EAAE,GAAG,EAAE;4BACd,MAAM,CAAC,GAAG,GAAG,EAAE;4BACf,IAAG,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;gCACxB,IAAG,CAAC,KAAK,CAAC,EAAE,EAAE;oCACZ,KAAK,CAAC,EAAE,GAAG,EAAE;iCACd;gCACD,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC;gCACrB,MAAM,CAAC,KAAK,GAAG,IAAI;6BACpB;4BACD,IAAG,IAAI,CAAC,QAAQ,IAAI,KAAK,EAAE;gCACzB,IAAG,CAAC,KAAK,CAAC,GAAG,EAAE;oCACb,KAAK,CAAC,GAAG,GAAG,EAAE;iCACf;gCACD,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;gCACtB,MAAM,CAAC,KAAK,GAAG,KAAK;6BACrB;yBACF;oBACH,CAAC,EAAC;gBACJ,CAAC,EAAC;gBACF,OAAO,OAAO,CAAC;YACjB,CAAC,CAAC,CAAC,CAAC;SACX;QACD,OAAO,+CAAE,CAAC,OAAO,CAAC;;;;;;;eAOX;IACT,CAAC;IAED,WAAW,CAAC,OAA4B,EAAE,WAAoB,IAAI;QAChE,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC;QAC9B,IAAG,OAAO,EAAE;YACV,IAAG,QAAQ,KAAK,IAAI,EAAE;gBACpB,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE;aACtC;YACD,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;YAChD,IAAG,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,wEAAW,CAAC,UAAU,EAAE;gBAC3C,+CAAE,CAAC,OAAO,CAAC;oBACX,IAAI,CACF,0DAAG,CAAC,CAAC,OAAgB,EAAE,EAAE,GAAE,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,OAAO,GAAC,CAAC,EACrF,+DAAQ,CAAC,CAAC,OAAgB,EAAE,EAAE;;oBAAC,WAAI,CAAC,eAAe,CAAC,cAAc,CAChE,OAAO,CAAC,QAAQ,EAChB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,cAAc,oBAAE,IAAI,CAAC,YAAY,0CAAE,IAAI,0CAAE,OAAO,0CAAE,WAAW,CAAC,CAAC;iBAAA,CAAC,EACjH,0DAAG,CAAC,CAAC,IAAS,EAAE,EAAE,GAAE,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,OAAO,OAAO,GAAC,CAAC,EACzD,+DAAQ,CAAC,CAAC,OAAgB,EAAE,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC,CACjE,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE;oBAChB,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;oBACtC,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,KAAK,CAAC;gBAC3C,CAAC,EAAE,KAAK,CAAC,EAAE;oBACT,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,KAAK,CAAC;oBACzC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;oBAClB,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC;gBACpB,CAAC,CAAC;aACH;iBAAM;gBACL,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,OAAO,CAAC;aAC5C;SACF;QACD,OAAO,OAAO;IAChB,CAAC;IAED,sBAAsB,CAAC,sBAAsC,EAAE,OAAe;QAC5E,IAAI,OAAO,GAAG,UAAS,IAAS;YAC9B,IAAI,MAAM,GAAG,IAAI,wDAAO,EAAE;YAC1B,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI;YACvB,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ;YAC/B,MAAM,CAAC,OAAO,GAAG,OAAO;YACxB,MAAM,CAAC,GAAG,GAAG,EAAE;YACf,MAAM,CAAC,EAAE,GAAG,EAAE;YACd,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;YACtC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK;YACzB,OAAO,MAAM;QACf,CAAC;QACD,IAAI,MAAM,GAAG,IAAI,wDAAO,EAAE;QAC1B,MAAM,CAAC,IAAI,GAAG,OAAO;QACrB,MAAM,CAAC,QAAQ,GAAG,sDAAQ,CAAC,OAAO;QAClC,MAAM,CAAC,OAAO,GAAG,OAAO;QACxB,MAAM,CAAC,WAAW,GAAG,sDAAQ,CAAC,OAAO;QACrC,MAAM,CAAC,KAAK,GAAG,OAAO;QACtB,IAAI,OAAO,GAAmB,EAAE;QAChC,IAAI,QAAQ,GAAoB,EAAE;QAClC,sBAAsB,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACpC,IAAG,IAAI,CAAC,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE;gBACvB,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;aAC5B;YACD,IAAG,IAAI,CAAC,GAAG,CAAC,MAAM,KAAK,CAAC,EAAE;gBACxB,IAAI,MAAM,GAAG,sBAAsB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,IAAI,SAAS,CAAC;gBAChG,IAAG,CAAC,MAAM,EAAE;oBACV,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;iBAC7B;aACF;QACH,CAAC,CAAC;QACF,MAAM,CAAC,EAAE,GAAG,OAAO;QACnB,MAAM,CAAC,GAAG,GAAG,QAAQ;QACrB,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,OAAO,EAAE,OAAO,CAAC;QAC9C,OAAO,MAAM;IACf,CAAC;IAED,eAAe,CAAC,WAAgB,EAAE,OAAe,EAAE,SAAiB;QAElE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,GAAE;YACpC,IAAG,CAAC,EAAE;gBACJ,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM;gBAC7B,IAAI,MAAM,GAAG,IAAI,+DAAU,EAAE;qBAC5B,GAAG,CAAC,SAAS,EAAE,OAAO,CAAC;qBACvB,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC;gBAE5B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAM,cAAc,EAAE,WAAW,EAAE,EAAC,MAAM,EAAC,CAAC;qBACvD,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;aACnC;QACH,CAAC,CAAC;IACJ,CAAC;IAED,eAAe,CAAC,OAAe,EAAE,SAAiB;QAChD,IAAI,MAAM,GAAG,IAAI,+DAAU,EAAE;aAC1B,GAAG,CAAC,SAAS,EAAE,OAAO,CAAC;aACvB,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC;QAC9B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,EAAE,MAAM,EAAE,CAAC;IAClD,CAAC;IAED,cAAc,CAAC,OAAgB;QAC7B,OAAO,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,EAAE,gBAAgB,CAAC,CAAC,IAAI,CAAC,0DAAG,CAAC,CAAC,GAAE;YACtE,IAAG,OAAO,EAAE;gBACV,IAAG,CAAC,OAAO,CAAC,IAAI,EAAE;oBAChB,OAAO,CAAC,IAAI,GAAG,IAAI,0DAAQ,EAAE,CAAC;iBAC/B;gBACD,OAAO,CAAC,IAAI,CAAC,QAAQ,GAAI,CAAS,CAAC,QAAQ,CAAC;aAC7C;YACD,OAAO,OAAO,CAAC;QACjB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,qBAAqB,CAAC,WAAmB;QACvC,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC;QACvE,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,GAAG,WAAW;QACjD,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAkC;IACxD,CAAC;IAED,aAAa,CAAC,SAAiB,EAAE,MAAsB,EAAE,UAAgC,SAAS,EAAE,QAAgB,IAAI;QACtH,IAAG,CAAC,OAAO,EAAE;YACX,OAAO,GAAG,EAAE;SACb;QACD,IAAG,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE;YACpC,OAAO,EAAE,CAAC;SACX;QACD,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC;QACvB,IAAI,KAAK,GAAQ,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,SAAS,CAAC;QACtD,IAAG,KAAK,EAAE;YACR,IAAI,EAAE,GAA0B,KAAK,CAAC,KAAK,CAAC;YAC5C,IAAI,QAAQ,GAAa,GAAE,aAAF,EAAE,uBAAF,EAAE,CAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,MAAK,EAAE;YACnD,IAAI,GAAG,GAAc,EAAE;YACvB,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;YAC5F,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;SACjD;aAAM;YACL,OAAO,EAAE;SACV;IACH,CAAC;IAED,gBAAgB,CAAC,SAAiB,EAAE,MAAsB;QACxD,IAAI,WAAW,GAAa,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;QACzJ,OAAO,WAAW;IACpB,CAAC;IAED,0BAA0B,CAAC,WAAmB;QAC5C,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE;QAErC,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC;QACvE,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,GAAG,WAAW;QACjD,IAAI,IAAI,GAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAsC;aAC5D,SAAS,CAAC,GAAG,CAAC,EAAE;YACf,IAAI,OAAO,GAAG,IAAI,wDAAO,CAAC,WAAW,EAAE,EAAE,EAAE,SAAS,EAAE,SAAS,CAAC;YAChE,OAAO,CAAC,IAAI,GAAG,IAAI,0DAAQ,EAAE;YAC7B,OAAO,CAAC,IAAI,CAAC,QAAQ,GAAG,EAAE;YAC1B,IAAI,UAAU,GAAmB,EAAE;YACnC,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC;YAEvB,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE;gBACpB,qCAAqC;gBAC/C;;;;;;;;;;;;;;;;;kBAiBE;gBACQ,qCAAqC;gBAGrC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,GAAE;oBACvB,IAAI,KAAK,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC,GAAE,EAAC,CAAC,IAAI,IAAE,GAAG,CAAC,IAAI,CAAC;oBAChD,IAAG,CAAC,KAAK,EAAE;wBACT,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC;qBACrB;yBAAM;wBACL,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC;wBAC9C,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,GAAE,EAAC,CAAC,GAAG,GAAC,EAAE,CAAC;wBAC7B,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;wBACjD,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAE,EAAC,CAAC,EAAE,GAAC,EAAE,CAAC;qBAC9B;gBACH,CAAC,CAAC;YACJ,CAAC,CAAC;YACF,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,UAAU,CAAC;YACvD,IAAI,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,UAAU,EAAE,SAAS,EAAE,KAAK,CAAC;YAC1E,IAAI,cAAc,GAAa,EAAE;YACjC,OAAO,CAAC,IAAI,CAAC,QAAQ,GAAG,UAAU;iBAC/B,MAAM,CAAC,CAAC,GAAE,EAAC,CAAC,IAAI,IAAE,WAAW,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;iBAC7F,GAAG,CAAC,CAAC,GAAE;gBACN,IAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,WAAW,EAAE;oBACzD,cAAc,GAAG,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,GAAE,GAAE,CAAC,IAAI,CAAC,CAAC;oBAC9D,CAAC,CAAC,GAAG,GAAC,EAAE;oBACR,CAAC,CAAC,EAAE,GAAC,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,GAAE,EAAC,CAAC,IAAI,IAAE,WAAW,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,IAAE,CAAC,CAAC,CAAC;iBACtE;gBACD,IAAG,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,WAAW,EAAE;oBAC1D,cAAc,GAAG,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,GAAE,GAAE,CAAC,IAAI,CAAC,CAAC;oBAC7D,CAAC,CAAC,EAAE,GAAC,EAAE;oBACP,CAAC,CAAC,GAAG,GAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAE,EAAC,CAAC,IAAI,IAAE,WAAW,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,IAAE,CAAC,CAAC,CAAC;iBACzE;gBACD,OAAO,CAAC;YACV,CAAC,CAAC;YACJ,OAAO,CAAC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,QAAQ;iBAC1C,MAAM,CAAC,CAAC,GAAE,eAAc,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,WAAW,CAAC;iBACxE,MAAM,CAAC,CAAC,GAAE,EAAC,CAAC,CAAC,GAAG,CAAC,MAAM,GAAC,CAAC,IAAE,CAAC,CAAC,EAAE,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC;YAC7C,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,OAAO,CAAC;QAC7C,CAAC,CAAC;IACN,CAAC;IAED,WAAW,CAAkB,KAAU,EAAE,KAAU;QACjD,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE;YACjB,IAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAE,EAAE,CAAC,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,SAAS,EAAE;gBACrD,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;aAC5C;QACH,CAAC,CAAC;QACF,OAAO,KAAK,CAAC;IACf,CAAC;IAED,YAAY,CAAC,UAA0B,EAAG,QAAwB,EAAE,KAAa;QAC/E,QAAQ,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE;YACpB,IAAI,KAAK,GAA6B,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC;YAC9E,IAAG,KAAK,IAAI,SAAS,EAAE;gBACrB,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;gBAChD,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,EAAE,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC;aAChE;iBAAM;gBACL,IAAI,IAAI,GAAG,KAAK,CAAC,EAAE,CAAC,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC,MAAM;gBAC7C,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;gBAC7C,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC;gBAChD,IAAG,EAAE,YAAY,wDAAO,IAAI,KAAK,YAAY,wDAAO,EAAE;oBACpD,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,IAAI,EAAE,EAAG,EAAc,CAAC,MAAM,IAAI,EAAE,CAAC,CAAC;iBACnF;gBACD,IAAG,CAAC,IAAI,IAAI,KAAK,CAAC,EAAE,CAAC,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,KAAK,KAAK,CAAC,EAAE;oBAC9D,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,EAAE,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC;iBAChE;aACF;QACH,CAAC,CAAC;IACJ,CAAC;IAED,gBAAgB,CAAC,UAAqB,EAAE,OAAgB;QACtD,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;YACxB,IAAI,MAAM,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC;YACtD,IAAG,MAAM,EAAE;gBACT,IAAG,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,OAAO,CAAC,IAAI,CAAC,EAAE;oBAC/C,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;iBACpD;aACF;iBAAM;gBACL,MAAM,mBAAmB;aAC1B;YACD,GAAG,CAAC,EAAE,GAAG,EAAE;YACX,GAAG,CAAC,GAAG,GAAG,EAAE;QACd,CAAC,CAAC;QACF,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACxB,IAAI,MAAM,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC;YACvD,IAAG,MAAM,EAAE;gBACT,IAAG,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,OAAO,CAAC,IAAI,CAAC,EAAE;oBAChD,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;iBACrD;aACF;iBAAM;gBACL,MAAM,mBAAmB;aAC1B;YACD,IAAI,CAAC,EAAE,GAAG,EAAE;YACZ,IAAI,CAAC,GAAG,GAAG,EAAE;QACf,CAAC,CAAC;IACJ,CAAC;IAED,uBAAuB,CAAC,aAAqB;QAC3C,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC;QACxE,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,UAAU,CAAC,aAAa,GAAG,aAAa;QAC/D,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;IACvB,CAAC;IAED,MAAM,CAAC,KAAU;QACf,MAAM,WAAW,GAAG;YAClB,OAAO,EAAE,IAAI,gEAAW,CAAC;gBACvB,cAAc,EAAG,kBAAkB;aACpC,CAAC;SACH,CAAC;QACF,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,EAAE,WAAW,CAAC;IACpD,CAAC;IAED,aAAa;QACX,IAAG,CAAC,IAAI,CAAC,UAAU,EAAE;YAClB,IAAI,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;gBAC7B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,GAAE,EAAC,CAAC,MAAM,IAAI,IAAI,CAAC,CAAC;gBACnD;;;oBAGI;gBACJ,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC7D,CAAC,CAAC,CAAC;SACN;aAAM;YACL,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SACxD;IACH,CAAC;;4EAhbU,cAAc;iGAAd,cAAc,WAAd,cAAc,mBAFb,MAAM;;;;;;;;;;;;;ACbpB;AAAA;AAAA;AAAO,MAAM,OAAO;IASlB,YAAa,OAAe,EAAE,EAAE,WAAmB,EAAE,EAAE,iBAAsB,SAAS,EAAE,MAAgB;QAJxG,WAAM,GAAa,IAAI,CAAC;QACxB,WAAM,GAAa,KAAK,CAAC;QACzB,YAAO,GAAa,KAAK,CAAC;QAC1B,mBAAc,GAA8B,EAAE,CAAC;QAE7C,IAAI,CAAC,IAAI,GAAG,IAAI;QAChB,IAAI,CAAC,QAAQ,GAAG,QAAQ;QACxB,IAAI,CAAC,cAAc,GAAG,cAAc;QACpC,IAAI,CAAC,MAAM,GAAG,MAAM;IACtB,CAAC;IAAA,CAAC;CACH;AAEM,MAAM,2BAA2B;IAAxC;QACE,4BAAuB,GAA8B,EAAE,CAAC;IAC1D,CAAC;CAAA;;;;;;;;;;;;;ACrBD;AAAA;AAAA;AAAA;AAA8D;;;AAOvD,MAAM,eAAe;IAE1B,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;IAAI,CAAC;IAEzC,YAAY,CAAC,IAAY;QACvB,IAAI,MAAM,GAAG,IAAI,+DAAU,EAAE;aAC1B,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;QACvB,IAAI,GAAG,GAAW;YAChB,MAAM;YACN,YAAY,EAAE,MAAgB;SAC/B;QACH,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAS,eAAe,EAAE,GAAG,CAAC,EAAC,uCAAuC;IAC5F,CAAC;IAED,YAAY,CAAC,QAAsB;QACjC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAe,eAAe,EAAE,QAAQ,CAAC;IAChE,CAAC;IAED,cAAc,CAAC,QAAgB,EAAE,cAAuB;QACtD,IAAI,MAAM,GAAG,IAAI,+DAAU,EAAE;aAC1B,GAAG,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,cAAc,IAAI,IAAI,CAAC;QAClE,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,CAAC;QACnC,IAAG,cAAc,EAAE;YACjB,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,cAAc,CAAC;SACxC;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,iBAAiB,EAAE,EAAE,MAAM,EAAE,CAAC;IACrD,CAAC;IAED,oBAAoB,CAAC,QAAgB,EAAE,QAAgB,EAAE,cAAuB;QAC9E,IAAI,MAAM,GAAG,IAAI,+DAAU,EAAE;aAC1B,GAAG,CAAC,cAAc,EAAE,QAAQ,CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,cAAc,IAAI,IAAI,CAAC;QACtE,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,CAAC;QACnC,IAAG,cAAc,EAAE;YACjB,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,cAAc,CAAC;SACxC;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAS,qBAAqB,EAAE,QAAQ,EAAE,EAAE,MAAM,EAAE,CAAC;IAC5E,CAAC;;8EApCU,eAAe;kGAAf,eAAe,WAAf,eAAe,mBAFd,MAAM;;;;;;;;;;;;;ACHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsD;AACW;AAIuC;AACrD;;;;;;;;;;;;;;ICFjD,wEAA+C;IAC7C,wEAAO;IAAA,kEAAO;IAAA,4DAAQ;IACtB,wEAAO;IAAA,uDAAe;IAAA,4DAAQ;IAChC,qEAAe;;;IADN,0DAAe;IAAf,mFAAe;;;;IAGtB,8EAAiL;IAA3H,6YAAmC;IAAwF,uDAAgB;IAAA,4DAAW;;;;IAAtE,wHAA0C;IAAtF,8GAA2C;IAA4C,0DAAgB;IAAhB,gFAAgB;;;;IACjM,8EAAgO;IAAvL,sfAAuD;IAAgI,uDAAoC;IAAA,4DAAW;;;IAA9G,kQAA8D;IAA9H,0PAA+D;IAAgE,0DAAoC;IAApC,0NAAoC;;;;IAFtQ,mFAAsD;IACpD,oJAA4M;IAC5M,oJAA+Q;IAC/Q,8EAAqL;IAA3K,2fAAuE;IAAoG,+DAAI;IAAA,4DAAW;IACtM,4DAAgB;;;IAHgB,0DAAsB;IAAtB,2HAAsB;IACzC,0DAA4B;IAA5B,+FAA4B;IACmE,0DAA0E;IAA1E,yQAA0E;;;;IAGtL,uEAAqH;IAA1B,kUAAyB;IAAC,uDAAU;IAAA,4DAAI;;;IAAd,0DAAU;IAAV,2EAAU;;;;IAC/H,iFAAiC;IAC/B,6EAAwI;IAAzD,ifAAwD;IACrI,2EAAU;IAAA,+DAAI;IAAA,4DAAW;IAC3B,4DAAS;IACT,6EAAoI;IAA5D,ofAA2D;IACjI,2EAAU;IAAA,qEAAU;IAAA,4DAAW;IACjC,4DAAS;IACT,6EAAwF;IAA7B,wVAA4B;IACrF,2EAAU;IAAA,gEAAK;IAAA,4DAAW;IAC5B,4DAAS;IACT,8EAA4F;IAA5B,wVAA2B;IACzF,4EAAU;IAAA,gEAAI;IAAA,4DAAW;IAC3B,4DAAS;IACX,4DAAiB;;ADpBnB,MAAM,IAAI;IAAV;QACE,kBAAa,GAAwB,SAAS;IAChD,CAAC;CAAA;AAOM,MAAM,8BAA8B;IAYzC,YAAoB,YAA4B,EAAU,YAA0B,EAAU,kBAAsC,EAC1H,cAA8B;QADpB,iBAAY,GAAZ,YAAY,CAAgB;QAAU,iBAAY,GAAZ,YAAY,CAAc;QAAU,uBAAkB,GAAlB,kBAAkB,CAAoB;QAC1H,mBAAc,GAAd,cAAc,CAAgB;QARxC,SAAI,GAAS,IAAI,IAAI,EAAE,CAAC;QACxB,WAAM,GAAa,EAAE,CAAC;QAEtB,gBAAW,GAAG,IAAI,mEAAiB,CAAQ,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAEjE,eAAU,GAAG,IAAI,8EAAuB,EAAS,CAAC;QA2BlD,aAAQ,GAAG,CAAC,CAAS,EAAE,IAAW,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC;QAvB/E,YAAY,CAAC,kBAAkB,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;;YAChD,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,UAAU,CAAC,IAAI,qBAAG,IAAI,CAAC,QAAQ,0CAAE,IAAI,0CAAE,OAAO,0CAAE,MAAM,CAAC;YAC5D,IAAI,CAAC,YAAY,CAAC,kCAAkC,CAAC,KAAK,CAAC,CAAC;QAC9D,CAAC,CAAC;QACF,YAAY,CAAC,+BAA+B,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAC7D,IAAI,CAAC,mBAAmB,GAAG,KAAK;QAClC,CAAC,CAAC;QACF,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YACjD,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC;YAC1B,IAAI,CAAC,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;YACvB,IAAI,CAAC,mBAAmB,GAAG,SAAS,CAAC;QACvC,CAAC,CAAC;QACF,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAChD,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,IAAI,CAAC;QACnC,CAAC,CAAC;QACF,YAAY,CAAC,eAAe,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAC7C,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAD,CAAC,uBAAD,CAAC,CAAE,IAAI,CAAC,IAAE,EAAE,CAAC,CAAC,IAAI,EAAE;QACpD,CAAC,CAAC;IAEJ,CAAC;IAID,WAAW,CAAC,OAA2B;QACrC,IAAG,OAAO,EAAE;YACV,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,OAAO,CAAC;SAChD;IACH,CAAC;IAED,eAAe,CAAC,SAA6B;QAC3C,IAAG,SAAS,EAAE;YACZ,IAAI,CAAC,YAAY,CAAC,wBAAwB,CAAC,SAAS,CAAC,CAAC;SACvD;IACH,CAAC;IACD,kBAAkB,CAAC,SAA6B;QAC9C,IAAG,SAAS,EAAE;YACZ,IAAI,CAAC,YAAY,CAAC,2BAA2B,CAAC,SAAS,CAAC,CAAC;SAC1D;IACH,CAAC;IACD,eAAe,CAAC,OAA2B;QACzC,IAAG,OAAO,EAAE;YACV,IAAI,CAAC,YAAY,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;SACrD;IACH,CAAC;IACD,kBAAkB;QAChB,IAAI,CAAC,YAAY,CAAC,2BAA2B,EAAE,CAAC;IAClD,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,YAAY,CAAC,yBAAyB,EAAE,CAAC;IAChD,CAAC;IAED,OAAO;;QACH,yBAAO,IAAI,CAAC,QAAQ,0CAAE,IAAI,0CAAE,OAAO,0CAAE,WAAW,CAAC;IACrD,CAAC;IAED,SAAS;;QACP,yBAAO,IAAI,CAAC,QAAQ,0CAAE,IAAI,0CAAE,OAAO,0CAAE,UAAU,CAAC;IAClD,CAAC;IAED,gBAAgB;;QACd,+BAAO,IAAI,CAAC,QAAQ,0CAAE,IAAI,0CAAE,OAAO,0CAAE,UAAU,0CAAE,KAAK,CAAC,GAAG,EAAE;IAC9D,CAAC;IAED,SAAS;;QACP,yBAAO,IAAI,CAAC,QAAQ,0CAAE,IAAI,0CAAE,OAAO,0CAAE,MAAM,CAAC;IAC9C,CAAC;IAED,aAAa;;QACX,IAAI,CAAC,kBAAkB,CAAC,oBAAoB,aAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,0CAAE,OAAO,0CAAE,UAAU,CAAC;aAClF,SAAS,CACR,WAAW,CAAC,EAAE;;YACZ,IAAI,CAAC,YAAY,CAAC,uBAAuB,CAAC,IAAI,iEAAW,aAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,0CAAE,OAAO,0CAAE,UAAU,EAAE,WAAW,CAAC,CAAC;QAClH,CAAC,EACD,KAAK,CAAC,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;YAClB,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC;QACpB,CAAC,CACF;IACL,CAAC;IAED,QAAQ;IACR,CAAC;IAED,WAAW,CAAC,KAAuB;QACjC,IAAI,CAAC,YAAY,CAAC,sBAAsB,CAAC,KAAK,CAAC;IACjD,CAAC;IAED,WAAW;;QACT,OAAO,IAAI,CAAC,cAAc,CAAC,qBAAqB,mBAAC,IAAI,CAAC,QAAQ,0CAAE,IAAI,0CAAE,OAAO,0CAAE,IAAI,CAAC;aACnF,SAAS,CACR,CAAC,QAAa,EAAE,EAAE;YAChB,IAAI,CAAC,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,IAAI;QACzC,CAAC,CACF;IACH,CAAC;IAED,oBAAoB;;QAClB,IAAG,uBAAI,CAAC,QAAQ,0CAAE,IAAI,0CAAE,OAAO,0CAAE,OAAO,KAAI,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;YACnE,IAAG,uBAAI,CAAC,QAAQ,0CAAE,IAAI,0CAAE,OAAO,0CAAE,OAAO,KAAI,EAAE,EAAE;gBAC9C,IAAG,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;oBACpF,yBAAO,IAAI,CAAC,QAAQ,0CAAE,IAAI,0CAAE,OAAO,0CAAE,OAAO;iBAC7C;aACF;SACF;QACD,OAAO,SAAS;IAClB,CAAC;IAED,eAAe;;QACb,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,mHAA4B,EAAE;YACnD,IAAI,EAAE,EAAE,cAAc,EAAE,IAAI,CAAC,cAAc,EAAE,WAAW,oBAAG,IAAI,CAAC,QAAQ,0CAAE,IAAI,0CAAE,OAAO,0CAAE,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE;SACrH,CAAC,CAAC;IACL,CAAC;IAED,yBAAyB,CAAC,WAA+B;QACvD,IAAG,WAAW,EAAE;YACd,IAAI,CAAC,cAAc,CAAC,0BAA0B,CAAC,WAAW,CAAC;SAC5D;IACH,CAAC;;4GAtIU,8BAA8B;8GAA9B,8BAA8B;QCpB3C,yFAAqC;QACnC,6FAA4B;QAC1B,kFAAiB;QACf,uDAAiC;QAAA,gEAAM;QACvC,uDACF;QAAA,4DAAkB;QACpB,4DAA6B;QAC7B,4IAGe;QACf,8IAIgB;QAChB,gEAAM;QACN,sHAAmI;QACnI,mJAaiB;QACnB,4DAAsB;;QA7BhB,0DAAiC;QAAjC,qNAAiC;QACjC,0DACF;QADE,6NACF;QAEa,0DAA8B;QAA9B,8FAA8B;QAIP,0DAAc;QAAd,8EAAc;QAM9B,0DAAqB;QAArB,2FAAqB;QAC1B,0DAAc;QAAd,8EAAc;;;;;;;;;;;;;;AChBjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoD;AAC6B;;;;;;ICD7E,mFAA6D;IAE3D,uEAA0C;IAC1C,uDACF;IAAA,4DAAgB;;;IADd,0DACF;IADE,wFACF;;;IAEA,mFAA4E;IAC1E,4EACkD;IAChD,8EAAsC;IACpC,uDACF;IAAA,4DAAW;IACb,4DAAS;IACT,uDACF;IAAA,4DAAgB;;;;IANN,0DAAyC;IAAzC,iGAAyC;IAE7C,0DACF;IADE,oJACF;IAEF,0DACF;IADE,wFACF;;ADCG,MAAM,kBAAkB;IAsB7B;QAjBQ,iBAAY,GAAG,CAAC,IAAoB,EAAE,KAAa,EAAE,EAAE;YAC7D,OAAO;gBACL,UAAU,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC;gBACzD,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,KAAK,EAAE,KAAK;gBACZ,IAAI,EAAE,IAAI;aACX,CAAC;QACJ,CAAC;QAED,gBAAW,GAAG,IAAI,iEAAe,CAC/B,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAE/C,kBAAa,GAAG,IAAI,uEAAgB,CAChC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAE5F,eAAU,GAAG,IAAI,4EAAqB,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QAM7E,aAAQ,GAAG,CAAC,CAAS,EAAE,IAAqB,EAAE,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC;QAH/D,IAAI,CAAC,SAAS,GAAG,EAAE;IACrB,CAAC;IAID,QAAQ;QACN,IAAG,IAAI,CAAC,SAAS,EAAE;YACjB,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;SACvC;aAAM;YACL,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,EAAE;SAC1B;IAEH,CAAC;;oFAnCU,kBAAkB;kGAAlB,kBAAkB;QCjB/B,8EAAgE;QAE5D,kIAIgB;QAEhB,kIAQgB;QAClB,4DAAW;;QAjBH,sFAAyB;QAQU,0DAAc;QAAd,4FAAc;;;;;;;;;;;;;;;;;;;;ACDpD,MAAM,mBAAmB;IAK9B;QAFA,cAAS,GAAQ,SAAS,CAAC;IAEX,CAAC;IAEjB,QAAQ;IACR,CAAC;;sFARU,mBAAmB;mGAAnB,mBAAmB;QCPhC,yEAC2C;QAA3C,kLAAoB;QACpB,4DAAM;;QADN,+EAAoB;;;;;;;;;;;;;;;;;;;;;;;;ACQb,MAAM,yBAAyB;IAmBpC,YAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;QAjB7C,eAAU,GAAG,IAAI,CAAC;QAMlB,eAAU,GAAQ;YACjB,EAAE,KAAK,EAAE,UAAU,EAAE,SAAS,EAAE,IAAI,EAAE,MAAM,EAAE,oBAAoB,GAAG;YACrE,EAAE,KAAK,EAAE,WAAW,EAAE,SAAS,EAAE,IAAI,EAAE,MAAM,EAAE,oBAAoB,GAAG;YACtE,EAAE,KAAK,EAAE,WAAW,EAAE,SAAS,EAAE,IAAI,EAAE,MAAM,EAAE,oBAAoB,GAAG;SACvE,CAAC;QAEF,YAAO,GAAQ;YACb,EAAE,QAAQ,EAAE,EAAE,EAAE,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,EAAE,EAAE;SAC/C,CAAC;QAEF,WAAM,GAA0B,EAAE,CAAC;QAEjC,IAAI,CAAC,aAAa,GAAG;YACnB,QAAQ,EAAE,IAAI;YACd,SAAS,EAAE,IAAI;YACf,QAAQ,EAAE,GAAG;YACb,IAAI,EAAE,CAAC;SACR,CAAC;QAEF,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,IAAI,CAAC;QACjC,YAAY,CAAC,eAAe,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAC7C,IAAI,CAAC,MAAM,GAAE,KAAK,CAAC;YACnB,IAAI,CAAC,OAAO,EAAE;QAChB,CAAC,CAAC;IACJ,CAAC;IAED,OAAO;QACL,IAAI,IAAI,GAAS,EAAE;QACnB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAC,CAAC,EAAC,EAAE,CAAC,EAAC,aAAD,CAAC,uBAAD,CAAC,CAAE,IAAI,CAAC,aAAa,CAAC,EAAC,aAAD,CAAC,uBAAD,CAAC,CAAE,IAAI,KAAI,EAAE,MAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;YAC9E,MAAM,KAAK,GAAG,CAAC,EAAC,aAAD,CAAC,uBAAD,CAAC,CAAE,IAAI,KAAI,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACzC,MAAM,QAAQ,GAAW,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACzD,MAAM,SAAS,GAAW,CAAC,QAAQ,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,aAAD,CAAC,uBAAD,CAAC,CAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,aAAD,CAAC,uBAAD,CAAC,CAAE,IAAI,CAAC,IAAI,EAAE,CAAC;YAClG,IAAG,EAAC,aAAD,CAAC,uBAAD,CAAC,CAAE,MAAM,KAAI,IAAI,CAAC,UAAU,KAAK,IAAI,EAAE;gBACxC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;oBAChE,IAAG,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;wBACxB,IAAI,CAAC,IAAI,CAAC,EAAC,UAAU,EAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC,IAAI,EAAC,CAAC,CAAC;qBAChF;gBACH,CAAC,CAAC;aACH;YACD,IAAI,CAAC,IAAI,CAAC,EAAC,UAAU,EAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,WAAW,EAAE,EAAE,EAAC,CAAC,CAAC;QAC7E,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACtB,CAAC;IAED,WAAW,CAAC,MAAW;QACrB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,GAAG,CAAC;QAC1B,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,SAAS,CAAC;IACxC,CAAC;IAED,WAAW;QACT,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,EAAC,eAAe,EAAE,GAAG,EAAC,CAAC,CAAC;IACvD,CAAC;IAED,QAAQ;IACR,CAAC;IAED,aAAa,CAAC,UAAmB;QAC/B,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;;kGAnEU,yBAAyB;yGAAzB,yBAAyB;QCRtC,kFAGoB;QADhB,+JAAU,iCAA6B,IAAC;QAExC,yEACJ;QAAA,4DAAe;QACf,qEACA;QAAA,4EAAgC;QAAxB,iJAAS,iBAAa,IAAC;QAAC,iEAAM;QAAA,4DAAS;QAC/C,wFAQsC;QAAlC,wKAAa,uBAAmB,IAAC;QACrC,4DAAkB;;QAhBd,mFAAsB;QAWtB,0DAAmB;QAAnB,gFAAmB;;;;;;;;;;;;;;ACZvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmD;;;;;;;;;;;;ICS3C,gFAA8E;IAC5E,uDACF;IAAA,4DAAa;;;IAFsC,sFAA0B;IAC3E,0DACF;IADE,wHACF;;;;IAaN,sFAAsD;IACpD,6FAA4B;IAC1B,kFAAiB;IACb,uDACJ;IAAA,4DAAkB;IACpB,4DAA6B;IAC7B,uEAAW;IACT,uDACF;IAAA,4DAAI;IACJ,uEAAW;IACT,8EAAsC;IAAA,uDAAe;IAAA,4DAAW;IAClE,4DAAI;IACJ,iFAAgB;IACd,8EAA+D;IAA9B,oXAA6B;IAC1D,qEACA;IAAA,4EAAU;IAAA,qEAAS;IAAA,4DAAW;IAClC,4DAAS;IACX,4DAAiB;IACnB,4DAAsB;;;IAfd,0DACJ;IADI,gGACJ;IAGA,0DACF;IADE,4FACF;IAEwC,0DAAe;IAAf,+EAAe;;ADzBpD,MAAM,iBAAiB;IAM5B,YAAoB,cAA8B;QAA9B,mBAAc,GAAd,cAAc,CAAgB;QAJlD,aAAQ,GAAkB,EAAE;QAC5B,mBAAc,GAAc,EAAE;QAC9B,UAAK,GAAW,EAAE;QAGhB,cAAc,CAAC,iBAAiB,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;IAC5E,CAAC;IAED,QAAQ;IACR,CAAC;IAED,KAAK,CAAC,SAAiB;QACrB,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAC5D,IAAI,CAAC,QAAQ,GAAG,EAAE;YAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC;QAC/C,CAAC,CAAC;IACJ,CAAC;IAED,WAAW;QACT,IAAI,IAAI,GAAG,MAAM,CAAC,mBAAmB,CAAC;QACtC,IAAG,IAAI,IAAI,IAAI,EAAE;YACf,IAAI,UAAU,GAAG,IAAI,gEAAO,EAAE;YAC9B,UAAU,CAAC,IAAI,GAAG,IAAI;YACtB,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK;YAChC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC;YACpC,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,IAAI,CAAC,cAAc,CAAC;iBACxD,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,iBAAiB,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC;SACnG;IACH,CAAC;IAED,UAAU,CAAC,OAAoB;QAC7B,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YACxD,OAAO,CAAC,GAAG,GAAG,KAAK;QACrB,CAAC,CAAC;IACJ,CAAC;;kFApCU,iBAAiB;iGAAjB,iBAAiB;QCV9B,mFAA6C;QAC3C,sFAAqB;QACnB,6FAA4B;QAC1B,kFAAiB;QACb,8EACJ;QAAA,4DAAkB;QACpB,4DAA6B;QAC7B,uEAAW;QACT,2EAA2E;QAA7C,oLAAmB;QAAjD,4DAA2E;QAC3E,4FAA0C;QACxC,2HAEa;QACf,4DAAmB;QACnB,6EAAwF;QAAxB,0IAAS,iBAAa,IAAC;QACrF,4EAAU;QAAA,+DAAG;QAAA,4DAAW;QAC1B,4DAAS;QACX,4DAAI;QACJ,kFAAgB;QACd,6EAAsF;QAAvB,0IAAS,oBAAY,IAAC;QACjF,iEACA;QAAA,4EAAU;QAAA,sEAAU;QAAA,4DAAW;QACnC,4DAAS;QACX,4DAAiB;QACnB,4DAAsB;QACtB,gJAkBsB;QACxB,4EAAe;QA5Cf,4DAA6C;;;QAQT,0DAAmB;QAAnB,8EAAmB;QAEf,0DAAiB;QAAjB,uFAAiB;QAed,0DAAW;QAAX,iFAAW;;;;;;;;;;;;;;ACtBtD;AAAA;AAAA;AAAO,MAAM,cAAc;IAA3B;QACE,YAAO,GAAW,EAAE;QACpB,SAAI,GAAW,EAAE;QAEjB,WAAM,GAAY,KAAK;QACvB,gBAAW,GAAW,EAAE;IAC1B,CAAC;CAAA;AAEM,MAAM,QAAQ;IAArB;QAEE,YAAO,GAAiB,EAAE;IAI5B,CAAC;CAAA;;;;;;;;;;;;;AChBD;AAAA;AAAA;AAAA;AAA+B;;AAQxB,MAAM,YAAY;IACvB;QAMQ,wBAAmB,GAAG,IAAI,4CAAO,EAAW,CAAC;QACrD,mBAAc,GAAG,IAAI,CAAC,mBAAmB,CAAC,YAAY,EAAE,CAAC;QAKjD,4BAAuB,GAAG,IAAI,4CAAO,EAAQ,CAAC;QACtD,uBAAkB,GAAG,IAAI,CAAC,uBAAuB,CAAC,YAAY,EAAE,CAAC;QAKzD,sCAAiC,GAAG,IAAI,4CAAO,EAAQ,CAAC;QAChE,iCAA4B,GAAG,IAAI,CAAC,iCAAiC,CAAC,YAAY,EAAE,CAAC;QAK7E,yCAAoC,GAAG,IAAI,4CAAO,EAAsB,CAAC;QACjF,oCAA+B,GAAG,IAAI,CAAC,oCAAoC,CAAC,YAAY,EAAE,CAAC;QAKnF,wBAAmB,GAAG,IAAI,4CAAO,EAAO,CAAC;QACjD,mBAAc,GAAG,IAAI,CAAC,mBAAmB,CAAC,YAAY,EAAE,CAAC;QAKjD,2BAAsB,GAAG,IAAI,4CAAO,EAAW,CAAC;QACxD,sBAAiB,GAAG,IAAI,CAAC,sBAAsB,CAAC,YAAY,EAAE,CAAC;QAKvD,8BAAyB,GAAG,IAAI,4CAAO,EAAe,CAAC;QAC/D,yBAAoB,GAAG,IAAI,CAAC,yBAAyB,CAAC,YAAY,EAAE,CAAC;QAK7D,uBAAkB,GAAG,IAAI,4CAAO,EAAW,CAAC;QACpD,kBAAa,GAAG,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE,CAAC;QAK/C,2BAAsB,GAAG,IAAI,4CAAO,EAAU,CAAC;QACvD,sBAAiB,GAAG,IAAI,CAAC,sBAAsB,CAAC,YAAY,EAAE,CAAC;QAKvD,yBAAoB,GAAG,IAAI,4CAAO,EAAS,CAAC;QACpD,oBAAe,GAAG,IAAI,CAAC,oBAAoB,CAAC,YAAY,EAAE,CAAC;QAKnD,6BAAwB,GAAG,IAAI,4CAAO,EAAoB,CAAC;QACnE,wBAAmB,GAAG,IAAI,CAAC,wBAAwB,CAAC,YAAY,EAAE,CAAC;QAK3D,uBAAkB,GAAG,IAAI,4CAAO,EAAW,CAAC;QACpD,kBAAa,GAAG,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE,CAAC;QAK/C,0BAAqB,GAAG,IAAI,4CAAO,EAAW,CAAC;QACvD,qBAAgB,GAAG,IAAI,CAAC,qBAAqB,CAAC,YAAY,EAAE,CAAC;QAKrD,4BAAuB,GAAG,IAAI,4CAAO,EAAW,CAAC;QACzD,uBAAkB,GAAG,IAAI,CAAC,uBAAuB,CAAC,YAAY,EAAE,CAAC;QAKzD,+BAA0B,GAAG,IAAI,4CAAO,EAAU,CAAC;QAC3D,0BAAqB,GAAG,IAAI,CAAC,0BAA0B,CAAC,YAAY,EAAE,CAAC;QAK/D,kCAA6B,GAAG,IAAI,4CAAO,EAAU,CAAC;QAC9D,6BAAwB,GAAG,IAAI,CAAC,6BAA6B,CAAC,YAAY,EAAE,CAAC;QAKrE,+BAA0B,GAAG,IAAI,4CAAO,EAAU,CAAC;QAC3D,0BAAqB,GAAG,IAAI,CAAC,0BAA0B,CAAC,YAAY,EAAE,CAAC;QAK/D,kCAA6B,GAAG,IAAI,4CAAO,EAAW,CAAC;QAC/D,6BAAwB,GAAG,IAAI,CAAC,6BAA6B,CAAC,YAAY,EAAE,CAAC;QAKrE,gCAA2B,GAAG,IAAI,4CAAO,EAAW,CAAC;QAC7D,2BAAsB,GAAG,IAAI,CAAC,2BAA2B,CAAC,YAAY,EAAE,CAAC;QAKjE,0BAAqB,GAAG,IAAI,4CAAO,EAAa,CAAC;QACzD,qBAAgB,GAAG,IAAI,CAAC,qBAAqB,CAAC,YAAY,EAAE,CAAC;IAzH7C,CAAC;IAEjB,WAAW;QACT,IAAI,CAAC,mBAAmB,CAAC,QAAQ,EAAE;IACrC,CAAC;IAID,iBAAiB;QACf,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC;IAID,qBAAqB,CAAC,IAAU;QAC9B,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1C,CAAC;IAID,kCAAkC,CAAC,IAAU;QAC3C,IAAI,CAAC,iCAAiC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACpD,CAAC;IAID,kCAAkC,CAAC,QAA4B;QAC7D,IAAI,CAAC,oCAAoC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC3D,CAAC;IAID,iBAAiB,CAAC,IAAS;QACzB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC;IAID,oBAAoB,CAAC,IAAa;QAChC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IAID,uBAAuB,CAAC,IAAiB;QACvC,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC5C,CAAC;IAID,gBAAgB,CAAC,IAAa;QAC5B,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACrC,CAAC;IAID,oBAAoB,CAAC,IAAS;QAC5B,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IAID,kBAAkB,CAAC,IAAW;QAC5B,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACvC,CAAC;IAID,sBAAsB,CAAC,KAAuB;QAC5C,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC5C,CAAC;IAID,gBAAgB,CAAC,KAAc;QAC7B,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACtC,CAAC;IAID,mBAAmB,CAAC,KAAc;QAChC,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACzC,CAAC;IAID,qBAAqB,CAAC,KAAc;QAClC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC3C,CAAC;IAID,wBAAwB,CAAC,SAAiB;QACxC,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAClD,CAAC;IAID,2BAA2B,CAAC,SAAiB;QAC3C,IAAI,CAAC,6BAA6B,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACrD,CAAC;IAID,wBAAwB,CAAC,OAAe;QACtC,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAChD,CAAC;IAID,2BAA2B;QACzB,IAAI,CAAC,6BAA6B,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAChD,CAAC;IAID,yBAAyB;QACvB,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC9C,CAAC;IAID,mBAAmB,CAAC,IAAe;QACjC,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACxC,CAAC;;wEA7HU,YAAY;+FAAZ,YAAY,WAAZ,YAAY,mBAFX,MAAM;;;;;;;;;;;;;ACNpB;AAAA;AAAA;AAAA;AAAA;AAAuD;AAE8B;;;AAErF,MAAM,MAAM,GAAW;IACrB,0DAA0D;IAC1D,+CAA+C;IAC/C,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,iGAAmB,EAAE;CAC7C,CAAC;AAMK,MAAM,gBAAgB;;gFAAhB,gBAAgB;+FAAhB,gBAAgB;mGAHlB,CAAC,4DAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAC7B,4DAAY;mIAEX,gBAAgB,uFAFjB,4DAAY;;;;;;;;;;;;;;;;;;;ACbuB;AAGF;AACY;AAEzD,IAAI,qEAAW,CAAC,UAAU,EAAE;IAC1B,oEAAc,EAAE,CAAC;CAClB;AAED,2EAAwB,CAAC,eAAe,CAAC,yDAAS,CAAC;KAChD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;;;;;;;;;;;;ACXpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,qC","file":"main.js","sourcesContent":["import { AfterViewInit, Component, EventEmitter, OnInit, Output, ViewChild } from '@angular/core';\nimport { TemplateFile } from 'src/app/classes/tempates';\nimport { EventService } from 'src/app/services/events.service';\nimport { TemplateService } from 'src/app/services/template.service';\nimport 'brace'\nimport 'brace/mode/json'\nimport 'brace/mode/scala'\n\n@Component({\n  selector: 'tepmlate-editor',\n  templateUrl: './tepmlate-editor.component.html',\n  styleUrls: ['./tepmlate-editor.component.css']\n})\nexport class TepmlateEditorComponent implements OnInit, AfterViewInit {\n  fileName?: string;\n  fileBody: any;\n  params?: string;\n  rendered: any;\n  \n  constructor(private teplateService: TemplateService, private eventService: EventService) { \n    eventService.projectEvent$.subscribe(value => {\n      this.fileName = value.template\n      this.params = JSON.stringify(value.templateParams)\n      this.rendered = JSON.stringify(value.data || {}, null, 4)\n    })\n    eventService.loadProjectEvent$.subscribe(value => {\n      this.fileName = value.template\n      this.params = JSON.stringify(value.templateParams)\n      this.teplateService.loadTemplate(this.fileName).subscribe(s => {\n        this.fileBody = s\n      })\n    })\n  }\n  ngAfterViewInit(): void {\n    \n  }\n\n  ngOnInit(): void {\n    \n  }\n\n  setData() {\n    this.eventService.emitClearAllEvent()\n    this.eventService.emitJoinDataEvent(JSON.parse(this.rendered))\n  }\n\n  renderTemplate() {\n    if(this.fileName) {\n      this.eventService.emitSpinnerEvent(true);\n      this.eventService.emitClearAllEvent()\n      this.teplateService.renderTemplate(this.fileName, this.params)\n        .subscribe(s => {\n          this.rendered = JSON.stringify(s, null, 4)          \n          this.eventService.emitJoinDataEvent(s)\n          this.eventService.emitSpinnerEvent(false);\n        }, error => {        \n          console.log(\"Error while parse template!\")\n          console.log(error)\n          this.rendered = error.error;\n          this.eventService.emitSpinnerEvent(false);\n        })\n    }\n  }\n\n  renderTemplateByBody() {\n    if(this.fileName && this.fileBody) {\n      this.eventService.emitSpinnerEvent(true);\n      this.eventService.emitClearAllEvent()\n      this.teplateService.renderTemplateByBody(this.fileBody, this.fileName, this.params)\n        .subscribe(s => {\n          this.rendered = JSON.stringify(s, null, 4)          \n          this.eventService.emitJoinDataEvent(s)\n          this.eventService.emitSpinnerEvent(false);\n        }, error => {        \n          console.log(\"Error while parse template!\")\n          console.log(error)\n          this.rendered = error.error;\n          this.eventService.emitSpinnerEvent(false);\n        })\n    }\n  }\n\n  saveTemplate() {\n    if(this.fileName && this.fileBody) {\n      this.eventService.emitSpinnerEvent(true);\n      let t = new TemplateFile()\n      t.fileName = this.fileName\n      t.templateContent = this.fileBody\n      this.teplateService.saveTemplate(t)\n        .subscribe(s => {         \n          this.eventService.emitSpinnerEvent(false);\n        }, error => {\n          console.log(\"Error while save template!\")\n          console.log(error)\n          this.rendered = error.error;\n          this.eventService.emitSpinnerEvent(false);\n        })\n    }\n  }\n}\n","<button mat-icon-button aria-label=\"Render\" matTooltip=\"Render body\" (click)=\"renderTemplateByBody()\">\n  <mat-icon>check_circle</mat-icon>\n</button>\n<input type=\"text\" [(ngModel)]=\"fileName\">\n<input type=\"params\" [(ngModel)]=\"params\">\n<button mat-icon-button aria-label=\"Set data\" matTooltip=\"Set json data to topology graph\" (click)=\"setData()\">\n  <mat-icon>assessment</mat-icon>\n</button>\n<button mat-icon-button aria-label=\"Save\" matTooltip=\"Save\" (click)=\"saveTemplate()\">\n  <mat-icon>done</mat-icon>\n</button>\n\n<div style=\"width: 100%; height: 81.5vh; background: yellow;\">\n  <as-split direction=\"horizontal\">\n    <as-split-area [size]=\"50\">\n    <div ace-editor [(text)]=\"fileBody\" [mode]=\"'scala'\" style=\"height:100%;\"></div>\n    </as-split-area>\n    <as-split-area [size]=\"50\">\n    <div ace-editor [(text)]=\"rendered\" [mode]=\"'json'\" [readOnly]=\"true\" style=\"height:100%;\"></div>\n    </as-split-area>\n  </as-split>\n</div>","import { ChangeDetectorRef, Component, OnInit, ViewChild } from '@angular/core';\nimport { EventService } from 'src/app/services/events.service';\nimport { TopologyComponent } from '../topology/topology.component';\nimport { ContentFile } from 'src/app/classes/files'\nimport 'brace'\nimport 'brace/mode/sql'\nimport 'brace/theme/eclipse'\n\n@Component({\n  selector: 'app-main-layout',\n  templateUrl: './main-layout.component.html',\n  styleUrls: ['./main-layout.component.css']\n})\nexport class MainLayoutComponent implements OnInit {\n\n  @ViewChild(TopologyComponent)\n  private topologyComponent!: TopologyComponent;\n\n  showSpinner: boolean = false;\n  leftArea = \"25%\"\n  mainArea = \"75%\"\n\n  openFiles: ContentFile[] = []\n  selectedTabIndex = 0;\n\n  constructor(private eventService: EventService, public cd: ChangeDetectorRef) {\n    eventService.spinnerEvent$.subscribe(value => {\n      this.showSpinner = value;\n      cd.detectChanges();\n    })\n    eventService.wideLayoutEvent$.subscribe(_ => {\n      this.leftArea = \"50%\";\n      this.mainArea = \"50%\"\n    })\n    eventService.narrowLayoutEvent$.subscribe(_ => {\n      this.leftArea = \"25%\";\n      this.mainArea = \"75%\"\n    }) \n    eventService.openSourceFileEvent$.subscribe(value => {\n      this.openFiles = this.openFiles.filter(f => f.name != value.name)\n      this.openFiles.push(value)\n      this.selectedTabIndex = 4 + this.openFiles.length - 1\n    })\n    eventService.clearAllEvent$.subscribe(_ => this.openFiles = [])\n  }\n\n  zoomToFit() {\n    this.topologyComponent.zoomToFit();\n  }\n\n  ngOnInit(): void {\n  }\n\n  deleteFile(fileName: string) {\n    this.openFiles.splice(this.openFiles.indexOf(this.openFiles.filter(f=>f.name===fileName)[0]), 1)\n  }\n\n}\n","<mat-drawer-container>\n  <mat-drawer #drawer mode=\"over\">\n    <app-projects (onDrawerToggle)=\"drawer.toggle()\"></app-projects>\n  </mat-drawer>\n  <mat-drawer-content>\n\n    <div class=\"wrapper\">\n      <div class=\"overlay\" *ngIf=\"showSpinner === true\">\n        <div fxLayout=\"row\" fxLayoutAlign=\"space-around center\" style=\"height:100%\">\n          <mat-spinner></mat-spinner>\n        </div>    \n      </div>\n\n      <div class=\"loaded-content\" [class.blurred]=\"showSpinner\">   \n        <app-main-toolbar (onDrawerToggle)=\"drawer.toggle()\" class=\"noprint\"></app-main-toolbar>\n        \n        <div fxLayout=\"row\">\n            <div fxFlex=\"{{leftArea}}\" style=\"overflow: auto;height: 94vh;\" class=\"noprint\">\n\n              <mat-accordion multi=\"true\">\n                <selected-item-inspector></selected-item-inspector>\n                <mat-expansion-panel expanded=\"true\">\n                  <mat-expansion-panel-header>\n                    <mat-panel-title>\n                        Tables\n                    </mat-panel-title>\n                  </mat-expansion-panel-header>\n                  <select-table></select-table>\n                </mat-expansion-panel>                \n              </mat-accordion>\n\n\n            </div>\n            <div fxFlex=\"5px\" style=\"background-color: gray;\">\n            </div>\n            <div fxFlex=\"75%\" style=\"height: 94vh;\">          \n              <mat-tab-group [selectedIndex]=\"selectedTabIndex\">\n                <mat-tab label=\"Topology\">\n\n                  <ng-template mat-tab-label class=\"noprint\">\n                    <mat-icon class=\"example-tab-icon\" class=\"noprint\">leaderboard</mat-icon>\n                    Topology\n                  </ng-template>              \n\n                  <div style=\"overflow: hidden;height: 87vh;\">\n                    <app-topology></app-topology>      \n                  </div>\n                </mat-tab>\n                <mat-tab label=\"Data\" class=\"noprint\">\n                  <div style=\"overflow: auto;height: 87vh;\">\n                    <topology-grid-view></topology-grid-view>\n                  </div>              \n                </mat-tab>            \n                <mat-tab label=\"Templates\" class=\"noprint\">\n                  <div style=\"overflow: auto;height: 87vh;\">\n                    <tepmlate-editor></tepmlate-editor>\n                  </div>\n                </mat-tab>\n                <mat-tab label=\"Commands\" class=\"noprint\">\n                  <div style=\"overflow: auto;height: 87vh;\">\n                    <app-commands></app-commands>\n                  </div>\n                </mat-tab>\n                <ng-template [ngIf]=\"openFiles.length > 0\">\n                  <mat-tab *ngFor=\"let file of openFiles\" [label]=\"file.shortName()\" class=\"noprint\">\n                    <ng-template mat-tab-label>\n                      <mat-icon (click)=\"deleteFile(file.name)\">close</mat-icon>\n                      {{file.shortName()}}\n                    </ng-template>\n                    <div style=\"overflow: auto;height: 87vh;\">\n                      <div ace-editor [text]=\"file.content||''\" [theme]=\"'eclipse'\" [mode]=\"'sql'\" style=\"height:100%;\" [readOnly]=\"true\"></div>\n                    </div>\n                  </mat-tab>\n                </ng-template>                \n              </mat-tab-group>\n            </div>\n        </div>\n      </div>\n    </div>\n  </mat-drawer-content>\n</mat-drawer-container>","export class ContentFile {\r\n    constructor(name: string, content: string) {\r\n        this.name = name\r\n        this.content = content\r\n    }\r\n    name: string\r\n    content?: string\r\n    shortName(): string {\r\n        let a = (this.name || '').replace('\\\\', '/').split('/')\r\n        return a[a.length - 1]\r\n    }\r\n}","export class Command {\r\n  name!: string;\r\n  template!: string;\r\n}\r\n","import { NodeType } from \"./node\";\r\n\r\nexport class Named {\r\n  name!: string;\r\n}\r\n\r\nexport class TopologyNode extends Named {  \r\n  nodeType?: NodeType;\r\n  in!: Dataset[];\r\n  out!: Dataset[];\r\n  layer!: string;\r\n  project?: string;\r\n}\r\n\r\nexport class Field extends Named {\r\n  name!: string;\r\n  tableName?: string;\r\n  sources?: Field[];\r\n  fieldPlanType: String = \"Empty\";\r\n}\r\n\r\nexport class Dataset extends TopologyNode {\r\n  datasetType?: NodeType;\r\n  pathToData?: string;\r\n  sourceFile?: string;\r\n  action?: string;\r\n  fields?: Field[];\r\n  description?: string;\r\n}\r\n\r\nexport class DatasetAdditionalProps {\r\n  name!: string;\r\n  label?: string;\r\n}","export class TemplateFile {\r\n    fileName: string = \"\"\r\n    templateContent: string = \"\"\r\n  }","import { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { Project } from 'src/app/classes/project';\nimport { ProjectService } from 'src/app/services/project.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ProjectDialogComponent } from 'src/app/components/projectDialog/projectDialog.component'\nimport { EventService } from 'src/app/services/events.service';\n\n@Component({\n  selector: 'app-projects',\n  templateUrl: './projects.component.html',\n  styleUrls: ['./projects.component.css']\n})\nexport class ProjectsComponent implements OnInit {\n\n  projects?: Project[]\n  projectUnderMouse: string = \"\"\n  projectInEdit: string = \"\"\n\n  @Output()\n  onDrawerToggle = new EventEmitter<boolean>();\n  \n  toggleDrawer() {\n    this.onDrawerToggle.emit(true);\n  }\n\n  init() {\n    this.projectService.getProjects().subscribe(value => {\n      this.projects = value;\n    })\n  }\n  \n  constructor(private projectService: ProjectService, public dialog: MatDialog, private eventService: EventService) { \n    this.init()\n  }\n\n  createProject() {\n    this.editProject(new Project())\n  }\n\n  deleteProject(project: Project) {\n    if(confirm(\"Delete project?\")) {\n      this.projects = this.projects?.filter(p=>p.name != project.name)\n      this.saveProjects()\n    }\n  }\n\n  editProject(project: Project) {\n    this.projectInEdit = project.name\n    const dialogRef = this.dialog.open(ProjectDialogComponent, {\n      data: {name: project.name, template: project.template, \n        templateParams: this.prettyJson(project.templateParams), domain: project.domain},\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result != \"\") {\n        let p = this.projects?.find(p=>p.name==this.projectInEdit)\n        if(p == undefined) {\n          p = new Project()\n          this.projects?.push(p)\n        }\n        p.name = result.name\n        p.template = result.template\n        p.templateParams = JSON.parse(result.templateParams)\n        p.domain = result.domain\n        this.saveProjects()\n      }\n    });\n  }\n\n  loadProject(project: Project, clearAll: boolean = true) {\n    this.toggleDrawer();\n    this.projectService.loadProject(project, clearAll);\n  }\n\n  object2str(value: any): string {\n    return JSON.stringify(value)\n  }\n\n  ngOnInit(): void {\n  }\n\n  saveProjects() {\n    if(this.projects != undefined) {\n      this.eventService.emitClearAllEvent()\n      this.projectService.saveProjects(this.projects).subscribe(() => console.log(\"d\"))\n    }\n  }\n\n  prettyJson(jsonText: string | undefined) {\n    if(jsonText && jsonText != \"{}\" && JSON.stringify(jsonText) != \"{}\") {\n      return JSON.stringify(jsonText, null, ' ')\n    } else  { \n      return \"{}\"\n    }\n  }\n\n}\n","<mat-nav-list>\n  <mat-list-item>\n    <button mat-icon-button (click)=\"createProject()\" matTooltip=\"New\">\n      <mat-icon>add_circle_outline</mat-icon>\n    </button>\n  </mat-list-item>\n  <mat-list-item *ngFor=\"let project of projects\"  (mouseover)=\"projectUnderMouse = project.name\">\n      <a matLine [routerLink]=\"null\" (click)=\"loadProject(project, true)\">{{ project.name }}</a>\n      <button mat-icon-button (click)=\"loadProject(project, false)\" \n        matTooltip=\"Add\" *ngIf=\"projectUnderMouse == project.name\">\n        <mat-icon>add_circle_outline</mat-icon>\n      </button>\n      <button mat-icon-button (click)=\"editProject(project)\"\n        matTooltip=\"Edit\" *ngIf=\"projectUnderMouse == project.name\">\n        <mat-icon>info</mat-icon>\n      </button>\n      <button mat-icon-button (click)=\"deleteProject(project)\"\n        matTooltip=\"Del\" *ngIf=\"projectUnderMouse == project.name\">\n        <mat-icon>remove</mat-icon>\n      </button>\n      <mat-icon matTooltip=\"Item is domain project\" *ngIf=\"project.domain == true\">class</mat-icon>\n  </mat-list-item>\n</mat-nav-list>","import { Component, OnInit, ChangeDetectorRef, ViewChild } from '@angular/core';\r\nimport { EventService } from \"../../services/events.service\";\r\nimport { ProjectFileDir, Topology } from \"../../classes/topology\";\r\nimport { Node, NodeData } from \"../../classes/node\";\r\nimport { Dataset, TopologyNode, Named } from '../../classes/dataset';\r\nimport { Subject } from 'rxjs';\r\nimport { ProjectService } from 'src/app/services/project.service';\r\n\r\ninterface KeyValuePair {\r\n  key: string;\r\n  value: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-topology',\r\n  templateUrl: './topology.component.html',\r\n  styleUrls: ['./topology.component.css']\r\n})\r\nexport class TopologyComponent implements OnInit {\r\n\r\n  x: number = 1400;\r\n  y: number = 1000;\r\n  dim: [number, number] = [this.x, this.y];\r\n  inodes: Dataset[] = []\r\n  \r\n  clusters: any[] = []\r\n  nodes: Node[] = []\r\n  links: any[] = []\r\n  selectedTable: string = \"\"\r\n  error: any;\r\n  selected: Node | undefined;\r\n  data: Topology | undefined;\r\n  showMiniMap: boolean = false;\r\n  showClusters: boolean = true;\r\n  viewMode: string = \"datasets\";\r\n  inOut: TopologyNode[] = []\r\n\r\n  getNodeProject(node: Node): string | undefined {\r\n    return node.data?.dataset.project;\r\n  }\r\n\r\n  getTables(): string[] {\r\n    let res: string[] = []\r\n    if(this.nodes) {\r\n      res = this.nodes.map(n => n.data?.dataset.name||\"\")\r\n    }\r\n    return res;    \r\n  }\r\n\r\n  zoomToFit$: Subject<boolean> = new Subject();\r\n  panToNode$: Subject<any> = new Subject();\r\n  center$: Subject<boolean> = new Subject();\r\n  currentProject = \"\";\r\n\r\n  constructor(\r\n    private eventService: EventService, \r\n    private projectService: ProjectService, \r\n    public cd: ChangeDetectorRef) { \r\n\r\n    eventService.getSelectedNodeProjectEvent$.subscribe(node => \r\n      eventService.emitReturnSelectedNodeProjectEvent(this.getNodeProject(node)));\r\n\r\n    eventService.clearAllEvent$.subscribe(value => this.clear())\r\n    eventService.joinDataEvent$.subscribe(value => {\r\n      this.calculateInOut(value.name, value.data || new Topology())\r\n      this.addData(value)\r\n    })\r\n    eventService.projectEvent$.subscribe(value => {\r\n      this.currentProject = value.name\r\n      this.addData(value.data || new Topology())\r\n      this.calculateInOut(value.name, value.data || new Topology())\r\n    })\r\n    eventService.tableSelectedEvent$.subscribe(value => {       \r\n      let found = this.nodes.find(node => node.data?.dataset?.name === value);\r\n      if(found) {\r\n        this.nodeClick(found)\r\n        this.panToNode$.next(found?.id)\r\n      }\r\n    })\r\n    eventService.filterByTableInEvent$.subscribe(value => {\r\n      if(this.data) {\r\n        this.getData(this.data, value)\r\n      }\r\n    })\r\n    eventService.filterByTableUsageEvent$.subscribe(value => {\r\n      if(this.data) {\r\n        this.getData(this.data, undefined, value)\r\n      }\r\n    })\r\n    eventService.filterByProjectEvent$.subscribe(value => {\r\n      if(this.data) {\r\n        this.getData(this.data, undefined, undefined, value)\r\n      }\r\n    })        \r\n    eventService.clearTableFilterEvent$.subscribe(value => {\r\n      if(this.data) {\r\n        this.getData(this.data)\r\n      }\r\n    })\r\n    eventService.clearProjectFilterEvent$.subscribe(value => {\r\n      if(this.data) {\r\n        this.getData(this.data)\r\n      }\r\n    })\r\n  }\r\n\r\n  viewModeChanged() {\r\n    if(this.data) {\r\n      this.getData(this.data)\r\n    }\r\n  }  \r\n\r\n  setViewMode(value: string) {\r\n    this.viewMode = value\r\n    if(this.data) {\r\n      this.getData(this.data)\r\n    }\r\n  }\r\n\r\n  zoomToFit() {\r\n    this.zoomToFit$.next(true)\r\n  }\r\n  \r\n  centerGraph() {\r\n    this.center$.next(true);\r\n  }\r\n\r\n  clustersOnOff() {\r\n    this.showClusters = !this.showClusters\r\n  }\r\n\r\n  checkCluster(layer: string, nodeName: string, clusters: any[], tablesId: KeyValuePair[]) {\r\n    let cluster: any = clusters.find((c: any) => c.label == layer)\r\n    if(!cluster) {\r\n      cluster = {id: layer, label: layer, childNodeIds: new Set()}\r\n      if(cluster.label == \"Hive\"){\r\n        cluster.data = {image: \"assets/Apache_Hive_logo.svg\"}\r\n      }\r\n      if(cluster.label == \"Oracle\"){\r\n        cluster.data = {image: \"assets/oracle-2.svg\"}\r\n      }      \r\n      if(cluster.label == \"DataMart\"){\r\n        cluster.data = {image: \"assets/datamart.png\"}\r\n      }      \r\n      clusters.push(cluster)\r\n    }\r\n    cluster.childNodeIds.add(tablesId.find(k => k.key == nodeName)?.value)\r\n  }\r\n  \r\n  nodeClick(node: Node) {\r\n    this.selected = node\r\n    this.eventService.emitNodeSelectedEvent(node)\r\n    this.cd.detectChanges()\r\n  }\r\n\r\n  checkIfSelected(node: Node) {\r\n    return node.id == this.selected?.id\r\n  }\r\n\r\n  clear() {\r\n    this.currentProject = \"\"\r\n    let t = new Topology()\r\n    t.datasets = []\r\n    this.inOut = []\r\n    this.getData(t)\r\n  }\r\n\r\n  addData(data: Topology) {\r\n    let t = new Topology()\r\n    t.datasets = (this.data?.datasets || []).concat(data.datasets || [])\r\n    t.actions = (this.data?.actions || []).concat(data.actions || [])\r\n    this.getData(t)\r\n  }\r\n\r\n  private getNodes(): TopologyNode[] {\r\n    if(this.viewMode === \"actions\") {    \r\n      return this.data?.actions || []\r\n    }\r\n    if(this.viewMode === \"inout\" && this.inOut) {\r\n      return this.inOut\r\n    }\r\n    return this.data?.datasets || []\r\n  }\r\n\r\n  private calculateInOut(project: string, data: Topology) {\r\n    //this.inOut = []\r\n    let inodes: TopologyNode[] = data.datasets || [];\r\n    this.projectService.normaizeTree(inodes, data.datasets || [], 0);\r\n    inodes.forEach(d => this.projectService.normalizeDataset(inodes, d));    \r\n    if(project !== \"\") {\r\n      let io = this.projectService.getProjectsInputOutput(inodes, project)\r\n      this.inOut.push(io)\r\n      this.projectService.normaizeTree(this.inOut, this.inOut, 0);\r\n      this.inOut.forEach(d => this.projectService.normalizeDataset(this.inOut, d));\r\n    }\r\n  }\r\n\r\n  getData(data: Topology, filterByTableIn: string | undefined = undefined, filterByTableUsage: string | undefined = undefined, filterByProject: string | undefined = undefined) {\r\n    this.eventService.emitSpinnerEvent(true)\r\n    this.cd.detectChanges();\r\n    this.data = data;\r\n    this.selected = undefined;\r\n    \r\n    let inodes: TopologyNode[] = this.getNodes();\r\n    this.projectService.normaizeTree(inodes, this.getNodes(), 0);\r\n    inodes.forEach(d => this.projectService.normalizeDataset(inodes, d));\r\n    inodes = inodes.filter(d => (filterByProject == undefined) || d.project == filterByProject)\r\n    \r\n    if(this.currentProject !== \"\") {\r\n      this.projectService.saveProjectStat({\"name\": this.currentProject, \"datasets\": inodes}, this.currentProject, \"normalizedTree\")\r\n    }\r\n\r\n    let filteredTables = filterByTableIn ? this.projectService.getInDatasets(filterByTableIn, inodes) : (filterByTableUsage ? this.projectService.getUsageDatasets(filterByTableUsage, inodes) : [])\r\n\r\n    if(filterByTableIn) {\r\n      if(filteredTables.indexOf(filterByTableIn) == -1) {\r\n        filteredTables.push(filterByTableIn)\r\n      }\r\n    } else {\r\n      if(filterByTableUsage) {\r\n        if(filteredTables.indexOf(filterByTableUsage) == -1) {\r\n          filteredTables.push(filterByTableUsage)\r\n        }\r\n      }      \r\n    }\r\n\r\n    let did: number = 0\r\n    let tablesId: KeyValuePair[] = inodes.map(d =>  {return { key: d.name, value: \"\" + ++did }} )\r\n    \r\n    let linkid: number = 0\r\n    let links: any[] = []\r\n    let clusters: any[] = []\r\n\r\n    inodes.forEach(d => {\r\n      let inlinks = d.in.map(l => {\r\n        return {\"id\": \"\"+ ++linkid,\"source\": tablesId.find(k => k.key == l.name)?.value, \"target\": tablesId.find(k => k.key == d.name)?.value}\r\n      });\r\n      links = links.concat(inlinks);\r\n    })\r\n\r\n    this.nodes = inodes\r\n      .filter(d => filteredTables.length == 0 || filteredTables.indexOf(d.name) > -1)\r\n      .map(d => {\r\n        this.checkCluster(d.layer, d.name, clusters, tablesId)\r\n        d.in.forEach(l => this.checkCluster(l.layer, l.name, clusters, tablesId))\r\n        return new Node(\r\n          tablesId.find(k => k.key == d.name)?.value || \"notfoundid\", d.name, \r\n          new NodeData(\"#a95963\", d)\r\n        )\r\n      }\r\n    )\r\n\r\n    this.links = links.filter(l => this.nodes.filter(n => n.id == l.source).length > 0 && this.nodes.filter(n => n.id == l.target).length > 0)\r\n    this.clusters = clusters.filter(c => this.nodes.find(n=>n.data?.dataset.layer === c.label));\r\n    this.eventService.emitTableListEvent(this.nodes.map(n => n.data?.dataset));\r\n    this.eventService.emitSpinnerEvent(false)\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n}\r\n","<mat-button-toggle-group  [(ngModel)]=\"viewMode\" (change)=\"viewModeChanged()\" class=\"noprint\">\n  <mat-button-toggle value=\"datasets\" matTooltip=\"View datasets\" ngDefaultControl>\n    <mat-icon>table_view</mat-icon>      \n  </mat-button-toggle>\n  <mat-button-toggle value=\"actions\" matTooltip=\"View actions\" ngDefaultControl>\n    <mat-icon>bolt</mat-icon>\n  </mat-button-toggle>\n  <mat-button-toggle value=\"inout\" matTooltip=\"View as In Out Mode\" ngDefaultControl>    \n    <mat-icon>mediation</mat-icon>\n  </mat-button-toggle>\n</mat-button-toggle-group>\n\n<button mat-button color=\"basic\" matTooltip=\"Zoom to fit\" (click)=\"zoomToFit()\" class=\"noprint\">\n  <mat-icon>fit_screen</mat-icon>\n</button>\n\n<button mat-button color=\"basic\" matTooltip=\"Center topology\" (click)=\"centerGraph()\" class=\"noprint\">\n  <mat-icon>open_with</mat-icon>\n</button>\n\n<mat-button-toggle matTooltip=\"Clusters on/off\" [checked]=\"showClusters\" (change)=\"clustersOnOff()\" class=\"noprint\">\n  <mat-icon>select_all</mat-icon>\n</mat-button-toggle>\n\n<ngx-graph\n  [view]=\"dim\"\n  layout=\"dagreCluster\"\n  [links]=\"links\"\n  [nodes]=\"nodes\"\n  [clusters]=\"this.showClusters ? clusters : []\"\n  [showMiniMap]=\"showMiniMap\"\n  [zoomToFit$]=\"zoomToFit$\"\n  [panToNode$]=\"panToNode$\"\n  [center$]=\"center$\"  \n  >\n<ng-template #nodeTemplate let-node>\n    <svg:g class=\"node-group ng-star-inserted\">\n<!--        <circle r=\"10\" cx=\"10\" cy=\"10\" class=\"ng-star-inserted\" fill=\"#a95963\"></circle> -->\n        <image [attr.href]=\"node.data.image\" height=\"40\" width=\"40\" fill=\"none\" (click)=\"nodeClick(node)\" fill=\"#a95963\"/>\n        <ng-container *ngIf=\"checkIfSelected(node)\">\n          <image href=\"./assets/check.svg\" height=\"40\" width=\"40\" fill=\"none\" fill=\"#a95963\"/>\n        </ng-container>\n        <text class=\"name\">{{ node.label }}</text>\n    </svg:g>\n</ng-template>\n\n<ng-template #clusterTemplate let-cluster>\n  <svg:g class=\"node cluster\">\n    <image [attr.href]=\"cluster.data.image\" height=\"100\" width=\"100\" fill=\"none\"/>\n    <svg:rect\n      rx=\"5\"\n      ry=\"5\"\n      [attr.width]=\"cluster.dimension.width\"\n      [attr.height]=\"cluster.dimension.height\"\n      [attr.fill]=\"cluster.data.color\"\n    />\n  </svg:g>\n</ng-template>\n\n</ngx-graph>","import { Dataset, TopologyNode } from './dataset'\r\n\r\nexport enum NodeType {\r\n  Table = \"Table\",\r\n  SH = \"SH\",\r\n  project = \"project\",\r\n  file = \"file\",\r\n  component = \"component\",\r\n  linked = \"Linked\"\r\n}\r\n\r\nexport class NodeData {\r\n  image: string = \"assets/dataset.ico\";\r\n  color: string = \"#a95963\";\r\n  dataset!: TopologyNode\r\n  constructor(color: string,  dataset: TopologyNode) {\r\n    this.image = this.getImage(dataset);\r\n    this.color = color\r\n    this.dataset = dataset\r\n  }\r\n\r\n  private getImage(dataset: any): string {\r\n    if(dataset.datasetType == \"Table\") {\r\n      return \"assets/dataset.ico\";\r\n    }\r\n    if(dataset.datasetType == \"SH\") {\r\n      return \"assets/sh.jpg\";\r\n    }\r\n    if(dataset.datasetType == \"project\") {\r\n      return \"assets/project.png\";\r\n    }\r\n    if(dataset.datasetType == \"file\") {\r\n      return \"assets/file.png\";\r\n    }\r\n    if(dataset.datasetType == \"Error\") {\r\n      return \"assets/error-icon-32.png\";\r\n    }\r\n    if(dataset.datasetType == NodeType.linked) {\r\n      return \"assets/linkedTable.png\";\r\n    }        \r\n    return \"assets/component.png\";\r\n  }\r\n}\r\n\r\nexport class Node {\r\n  id: string;\r\n  label: string;\r\n  data?: NodeData;\r\n  constructor(id: string, label: string, data?: NodeData) {\r\n    this.id = id\r\n    this.label = label\r\n    this.data = data\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  singleHtml: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component, OnInit } from '@angular/core';\r\nimport { Named, Field, TopologyNode } from 'src/app/classes/dataset';\r\nimport { EventService } from 'src/app/services/events.service';\r\nimport { NestedTreeControl } from '@angular/cdk/tree';\r\nimport { MatTreeNestedDataSource } from '@angular/material/tree';\r\nimport { SourceFilesService } from 'src/app/services/files.service';\r\nimport { ProjectService } from 'src/app/services/project.service';\r\n\r\nclass Data {\r\n  useInProjects: Named[] | undefined = undefined\r\n}\r\n\r\n@Component({\r\n  selector: 'selected-item-info',\r\n  templateUrl: './selected-item-info.component.html',\r\n  styleUrls: ['./selected-item-info.component.css']\r\n})\r\nexport class SelectedItemInfoComponent implements OnInit {\r\n\r\n  selected: any;\r\n  data: Data = new Data();\r\n\r\n  selectedNodeProject: string | undefined;\r\n  currentProject: string | undefined;\r\n\r\n  treeControl = new NestedTreeControl<Field>(node => node.sources);\r\n\r\n  dataSource = new MatTreeNestedDataSource<Field>();\r\n\r\n  constructor(private eventService: EventService, private sourceFilesService: SourceFilesService, \r\n    private projectService: ProjectService) {\r\n    eventService.nodeSelectedEvent$.subscribe(value => {\r\n      this.selected = value;\r\n      this.getProjects();\r\n      this.dataSource.data = this.selected?.data?.dataset?.fields;\r\n      this.eventService.emitGetGetSelectedNodeProjectEvent(value);\r\n    })\r\n    eventService.returnSelectedNodeProjectEvent$.subscribe(value => {\r\n      this.selectedNodeProject = value\r\n    })\r\n    this.eventService.clearAllEvent$.subscribe(value => {\r\n      this.selected = undefined;\r\n      this.selectedNodeProject = undefined;\r\n      this.currentProject = undefined;\r\n    })\r\n    this.eventService.projectEvent$.subscribe(value => {\r\n      this.currentProject = value.name;\r\n    })\r\n  }\r\n\r\n  hasChild = (_: number, node: Field) => !!node.sources && node.sources.length > 0;\r\n\r\n  loadProject(project: string | undefined) {\r\n    if(project) {\r\n      this.eventService.emitProjectNameEvent(project)\r\n    }\r\n  }\r\n\r\n  loadDatasetVirtualProject(datasetName: string | undefined) {\r\n    if(datasetName) {\r\n      this.projectService.buildDatasetVirtualProject(datasetName)\r\n    }\r\n  }\r\n\r\n  filterByTableIn(tableName: string | undefined) {\r\n    if(tableName) {\r\n      this.eventService.emitFilterByTableInEvent(tableName);\r\n    }    \r\n  }\r\n  \r\n  filterByTableUsage(tableName: string | undefined) {\r\n    if(tableName) {\r\n      this.eventService.emitFilterByTableUsageEvent(tableName);\r\n    }    \r\n  }\r\n\r\n  clearTableFilter() {\r\n    this.eventService.emitClearTableFilterEvent();\r\n  }\r\n\r\n  getType() {\r\n      return this.selected?.data?.dataset?.datasetType;\r\n  }\r\n\r\n  getSource() {\r\n    return this.selected?.data?.dataset?.sourceFile;    \r\n  }\r\n\r\n  getAction() {\r\n    return this.selected?.data?.dataset?.action;    \r\n  }\r\n\r\n  getSourceFile() {\r\n    this.sourceFilesService.getSourceFileContent(this.selected.data?.dataset?.sourceFile)    \r\n      .subscribe(\r\n        fileContent => {\r\n          alert(fileContent)\r\n        },\r\n        error => {\r\n          console.log(error)\r\n          alert(error.message)\r\n        }\r\n      )\r\n  }\r\n\r\n  getProjects() {\r\n    return this.projectService.getAllDatasetProjects(this.selected?.data?.dataset?.name)\r\n    .subscribe(      \r\n      (projects: any) => {\r\n        this.data.useInProjects = projects.docs\r\n      }\r\n    )\r\n  }  \r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  selectTable(value: string|undefined) {\r\n    this.eventService.emitTableSelectedEvent(value)\r\n  }  \r\n\r\n}\r\n","<mat-nav-list *ngIf=\"selected\">\r\n    <mat-list-item>\r\n      <label>{{selected?.data?.dataset?.name}}</label>\r\n      <span>&nbsp;</span>\r\n      <button mat-mini-fab color=\"basic\" (click)=\"loadDatasetVirtualProject(selected?.data?.dataset?.name)\">\r\n        <mat-icon>done</mat-icon>\r\n      </button>\r\n    </mat-list-item>    \r\n</mat-nav-list>\r\n","import value from '*.json';\nimport {Component, OnInit, Input, Output, EventEmitter} from '@angular/core';\nimport {FormControl} from '@angular/forms';\nimport {Observable} from 'rxjs';\nimport {map, startWith} from 'rxjs/operators';\nimport { EventService } from 'src/app/services/events.service';\n\n@Component({\n  selector: 'select-table',\n  templateUrl: './select-table.component.html',\n  styleUrls: ['./select-table.component.css']\n})\nexport class SelectTableComponent implements OnInit {\n\n  tables: string[] = [];\n  selectedTable: string |  undefined;\n  constructor(private eventService: EventService) { \n    eventService.tableListEvent$.subscribe(value => {\n      this.tables = value.map(d => (d?.name)||\"\").sort()\n    })\n    eventService.nodeSelectedEvent$.subscribe(value => {\n      this.selectedTable = value.data?.dataset.name;\n    })\n  }\n\n  selectTable(value: string|undefined) {\n    this.eventService.emitTableSelectedEvent(value)\n  }  \n\n  myControl = new FormControl();\n  filteredOptions: Observable<string[]> | undefined;\n\n  ngOnInit() {\n    this.filteredOptions = this.myControl.valueChanges\n      .pipe(\n        startWith(''),\n        map(value => this._filter(value))\n      );\n  }\n\n  private _filter(value: string): string[] {\n    const filterValue = value.toLowerCase();\n\n    return this.tables.filter(table => table.toLowerCase().indexOf(filterValue) > -1);\n  }\n\n}\n","  <mat-selection-list #tableList [multiple]=\"false\">\n    <mat-list-option *ngFor=\"let table of tables\" (click)=\"selectTable(table)\" [value]=\"table\" selected=\"{{table == selectedTable}}\">\n      {{table}}\n    </mat-list-option>\n  </mat-selection-list>","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'datalog3';\n}\n","<router-outlet></router-outlet>\n","import { Component, EventEmitter, Input, OnInit, Output, SimpleChanges } from '@angular/core';\r\nimport { EventService } from \"../../services/events.service\";\r\nimport 'material-icons/iconfont/material-icons.css';\r\nimport { Project } from 'src/app/classes/project';\r\nimport { ProjectService } from 'src/app/services/project.service';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-main-toolbar',\r\n  templateUrl: './main-toolbar.component.html',\r\n  styleUrls: ['./main-toolbar.component.css']\r\n})\r\nexport class MainToolbarComponent implements OnInit   {\r\n\r\n  currentProject: string | undefined;\r\n  projects: string[] = []\r\n  virtualProjects: Project[] = []\r\n  viewMode = \"datasets\"\r\n  \r\n  @Output()\r\n  onDrawerToggle = new EventEmitter<boolean>();\r\n  \r\n  toggleDrawer() {\r\n      this.onDrawerToggle.emit(true);\r\n  };\r\n\r\n  constructor(private eventService: EventService, private projectServie: ProjectService) { \r\n    eventService.nodeSelectedEvent$.subscribe(value => {\r\n      this.eventService.emitGetGetSelectedNodeProjectEvent(value);\r\n    })\r\n\r\n    this.eventService.projectEvent$.subscribe(value => {\r\n      this.currentProject = value.name;\r\n      if(!this.projects.includes(value.name)) {\r\n        this.projects.push(value.name);\r\n        if(value.virtual === true) {\r\n          let found = this.virtualProjects.find(v => v.name === value.name)\r\n          if(!found) {\r\n            this.virtualProjects.push(value)\r\n            if(this.virtualProjects.length == 10) {\r\n              this.virtualProjects.shift()\r\n            }            \r\n          } else {\r\n            this.virtualProjects[this.virtualProjects.indexOf(found)] = value\r\n          }          \r\n        }\r\n      }\r\n      if(this.projects.length == 10) {\r\n        this.projects.shift()\r\n      }\r\n    })\r\n\r\n    this.eventService.clearAllEvent$.subscribe(value => {\r\n      this.currentProject = undefined;\r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  wideLayout() {\r\n    this.eventService.emitWideLayoutEvent(true);\r\n  }\r\n\r\n  narrowLayout() {\r\n    this.eventService.emitNarrowLayoutEvent(true);\r\n  }  \r\n\r\n  clear() {\r\n    this.projects = []\r\n    this.virtualProjects = [];\r\n    this.eventService.emitClearAllEvent()\r\n  }\r\n\r\n  loadProject(project: string | undefined) {\r\n    if(project) {\r\n      let virtual = this.virtualProjects.find(v => v.name === project)\r\n      if(virtual) {\r\n        this.projectServie.buildDatasetVirtualProject(project)\r\n      } else {\r\n        this.eventService.emitProjectNameEvent(project)\r\n      }      \r\n    }    \r\n  }\r\n\r\n  nextProject(): string | undefined {\r\n    if(this.currentProject) {\r\n      let selected = this.projects.indexOf(this.currentProject)\r\n      if(selected + 1 < this.projects.length) {\r\n        return this.projects[selected + 1];\r\n      }\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  prevProject(): string | undefined {\r\n    if(this.currentProject) {\r\n      let selected = this.projects.indexOf(this.currentProject)\r\n      if(selected > 0) {\r\n        return this.projects[selected - 1];\r\n      }\r\n    }\r\n    return undefined;\r\n  }  \r\n}\r\n","<div fxLayout=\"row\">\r\n  <div fxFlex=\"97%\" fxLayoutAlign=\"space-between center\">\r\n    <button mat-button matTooltip=\"Open project\" (click)=\"toggleDrawer()\">\r\n      <mat-icon>folder_open</mat-icon>\r\n    </button>\r\n\r\n    <span>&nbsp;</span>\r\n\r\n    <mat-chip-list aria-label=\"Projects\" cdkDropListOrientation=\"horizontal\">\r\n      <mat-chip *ngFor=\"let project of projects\" \r\n        (click)=\"loadProject(project)\" \r\n        [selected]=\"project == currentProject\" \r\n        matTooltip=\"Load project {{project}}\">\r\n        {{project}}\r\n      </mat-chip>\r\n    </mat-chip-list>\r\n\r\n  </div>\r\n  <div fxFlex=\"3%\" fxLayoutAlign=\"end center space-around\">\r\n    <button mat-button color=\"basic\" matTooltip=\"Clear data\" (click)=\"clear()\">\r\n      <mat-icon>clear</mat-icon>\r\n    </button>\r\n  </div>\r\n</div>","import { Component, Input, OnInit, Inject } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { Project } from 'src/app/classes/project';\nimport { EventService } from 'src/app/services/events.service';\nimport { ProjectService } from 'src/app/services/project.service';\nimport { TemplateService } from 'src/app/services/template.service';\nimport {MAT_BOTTOM_SHEET_DATA} from '@angular/material/bottom-sheet';\n\n@Component({\n  selector: 'domain-link-component',\n  templateUrl: './domain-link-component.component.html',\n  styleUrls: ['./domain-link-component.component.css']\n})\nexport class DomainLinkComponentComponent implements OnInit {\n\n  _currentProject?: string = \"\";\n  _currentItem?: string = \"\";\n  links: any = undefined;\n  _tables: string[] = [];\n\n  @Input() set currentProject(value: string | undefined) {    \n    this._currentProject = value;\n    this.inputChaged()\n  }  \n  get currentProject(): string | undefined {\n     return this._currentProject;\n  }\n\n  @Input() set currentItem(value: string) {    \n    this._currentItem = value;\n  }\n  get currentItem(): string {\n     return this._currentItem || \"\"; \n  }\n\n  @Input() set tables(value: string[]) {    \n    this._tables = value;\n  }\n  get tables(): string[] {\n     return this._tables || []; \n  }  \n\n  domainProjects?: Project[] = undefined;\n  selectedDomainProject?: Project = undefined;\n  selectedDomainProjectName: string = \"None\";\n  selectedDomainProjectItemName: string = \"None\";\n  selectedLinkType: string = \"None\";\n\n  constructor(\n    @Inject(MAT_BOTTOM_SHEET_DATA) public data: {currentProject: string, currentItem: string, tables: string[] }, \n    private _bottomSheetRef: MatBottomSheetRef<DomainLinkComponentComponent>, \n    private projectService: ProjectService, private templateService: TemplateService) { \n      \n    this._currentProject = data.currentProject;\n    this._currentItem = data.currentItem;\n    this._tables = data.tables;\n\n    this.inputChaged();\n    \n    projectService.getProjects().subscribe(projects =>this.domainProjects = projects.filter(p=>p.domain == true))\n  }\n\n  selectProject(project: Project)  {\n    this.selectedDomainProject = project;\n    this.projectService.getProjectData(this.selectedDomainProject).subscribe(()=>{});\n  }\n\n  projectChanged(event: any) {\n    this.domainProjects?.filter(p => p.name == event.value)\n      .forEach(p => this.selectProject(p));\n  }\n\n  addLink() {\n    if(this._currentProject) {\n      let link = {linkType: this.selectedLinkType, dataset: this._currentItem, domainProject: this.selectedDomainProject?.name, domainItem: this.selectedDomainProjectItemName}\n      if(!this.links) {\n        this.links = {\"name\": this._currentProject, \"domainLinks\": []}\n      }\n      this.links.domainLinks.push(link)\n      this.projectService.saveProjectStat(this.links, this._currentProject, \"domainLinks\")\n    }\n  }\n\n  deleteLink(link: any) {\n    if(this._currentProject) {\n      let idx = this.links?.domainLinks?.indexOf(link)\n      if(idx !==  -1) {\n        this.links.domainLinks.splice(idx, 1)\n        let projectStat = this.links\n        this.projectService.saveProjectStat(projectStat, this._currentProject, \"domainLinks\")\n      }\n    }\n  }\n\n  ngOnInit(): void {\n  }\n\n  inputChaged() {\n    this.links = undefined;\n    if(this._currentProject) {\n      this.projectService.loadProjectStat(this._currentProject, \"domainLinks\")\n      .subscribe(\n        res => this.links = (res as any).error ? undefined : res,\n        err => console.log('HTTP Error', err),\n        () => console.log('HTTP request completed.')\n      );      \n    }\n  }\n\n}\n","<ng-container *ngIf=\"currentProject && currentItem\">\n\n    <mat-expansion-panel>\n        <mat-expansion-panel-header>\n          <mat-panel-title>\n              Add domain link to {{currentItem}}\n          </mat-panel-title>\n        </mat-expansion-panel-header>\n\n        <mat-form-field appearance=\"fill\">\n            <mat-select [(value)]=\"currentItem\">\n                <mat-option>None</mat-option>\n                <mat-option *ngFor=\"let table of tables\" value=\"{{table}}\">{{table}}</mat-option>    \n            </mat-select>\n        </mat-form-field>\n\n        <mat-form-field appearance=\"fill\">\n            <mat-label>Select link type</mat-label>\n            <mat-select [(value)]=\"selectedLinkType\">\n                <mat-option>None</mat-option>\n                <mat-option value=\"in\">in</mat-option>\n                <mat-option value=\"out\">out</mat-option>\n            </mat-select>\n        </mat-form-field>\n    \n        <mat-form-field appearance=\"fill\">\n            <mat-label>Select domain</mat-label>\n            <mat-select [(value)]=\"selectedDomainProjectName\" (selectionChange)=\"projectChanged($event)\" >\n                <mat-option value=\"undefined\">None</mat-option>\n                <mat-option *ngFor=\"let project of domainProjects\" value=\"{{project.name}}\">{{project.name}}</mat-option>    \n            </mat-select>\n        </mat-form-field>\n    \n        <mat-form-field appearance=\"fill\">\n            <mat-label>Select domain item</mat-label>\n            <mat-select [(value)]=\"selectedDomainProjectItemName\">\n                <mat-option>None</mat-option>\n                <mat-option *ngFor=\"let dataset of selectedDomainProject?.data?.datasets\" value=\"{{dataset.name}}\">{{dataset.name}}</mat-option>\n            </mat-select>\n        </mat-form-field>\n\n        <mat-action-row>\n            <button enabled=\"selectedLinkType != 'None'  && selectedDomainProject != 'None' && selectedDomainProjectItemName != 'None'\" mat-mini-fab color=\"basic\" matTooltip=\"Add link\" (click)=\"addLink()\">\n                <mat-icon>add</mat-icon>\n            </button>        \n        </mat-action-row>\n    </mat-expansion-panel>\n  \n</ng-container>\n\n<mat-nav-list>\n    <mat-list-item>All domain links for project {{currentProject}}</mat-list-item>\n    <mat-list-item *ngFor=\"let link of links?.domainLinks\">\n      <button mat-button color=\"basic\" matTooltip=\"Remove link\" (click)=\"deleteLink(link)\">\n        <mat-icon>remove</mat-icon>\n      </button>        \n      <label>{{link.dataset}}</label>\n      <span>&nbsp;</span>\n      <label>{{link.linkType}}</label>\n      <span>&nbsp;</span>\n      <label>{{link.domainProject}}</label>\n      <span>&nbsp;</span>\n      <label>{{link.domainItem}}</label>\n      <span>&nbsp;</span>      \n    </mat-list-item>    \n</mat-nav-list>","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { ProjectService } from './project.service';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Command } from '../classes/commands';\n\nexport class RunOperator {\n  shCommand!: string;\n  runid!: string;\n  log: string | undefined;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SysutilService {\n  \n  commands: RunOperator[] = [];\n\n  constructor(private http: HttpClient, private projectService: ProjectService) { }\n\n  runShCommand(shCommand: string): Observable<string | undefined> {\n    let params = new HttpParams().set(\"sh\",  shCommand)\n    params.append(\"sh\",  shCommand)\n\n    return this.http.get(\"/runit\", { responseType: 'text', params })\n    .pipe(map((runid)=>{\n      let c = new RunOperator()\n      c.shCommand=shCommand;\n      c.runid=runid.toString();\n      this.commands.push(c);\n      return runid.toString();\n    }))\n  }\n\n  refreshLog(command: RunOperator): Observable<any> {\n    let params = new HttpParams().set(\"runid\",  command.runid)\n    params.append(\"runid\",  command.runid)    \n    return this.http.get(\"/sysout\", { responseType: 'text', params })\n  }\n\n  getConfigCommands(): Observable<Command[]> {    \n    return this.http.get<Command[]>(\"/commandFile\")\n  }\n\n  saveConfigCommands(data: any): Observable<any> {\n    return this.http.post<any>(\"/commandFile\", data)    \n  }\n\n}\n","import { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule, NO_ERRORS_SCHEMA, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { LocationStrategy, HashLocationStrategy} from '@angular/common';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations'\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { TopologyComponent } from './components/topology/topology.component';\r\nimport { NgxGraphModule } from '@swimlane/ngx-graph';\r\nimport { AceEditorModule } from 'ng2-ace-editor';\r\n\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatTabsModule } from '@angular/material/tabs';\r\nimport { MatTreeModule } from '@angular/material/tree';\r\nimport { MatGridListModule } from '@angular/material/grid-list';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\r\nimport { MatListModule } from '@angular/material/list';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatExpansionModule } from '@angular/material/expansion';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MatChipsModule } from '@angular/material/chips';\r\nimport { MatBottomSheetModule, MatBottomSheetRef, MAT_BOTTOM_SHEET_DATA } from '@angular/material/bottom-sheet';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\n\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { AngularSplitModule } from 'angular-split';\r\n\r\nimport { FilesTreeComponent } from './components/files-tree/files-tree.component';\r\nimport { SourceCodeComponent } from './components/source-code/source-code.component';\r\nimport { TepmlateEditorComponent } from './components/tepmlate-editor/tepmlate-editor.component';\r\nimport { SelectTableComponent } from './components/select_table/select-table.component';\r\nimport { MainToolbarComponent } from './components/main-toolbar/main-toolbar.component';\r\nimport { MainLayoutComponent } from './components/main-layout/main-layout.component';\r\nimport { ProjectsComponent } from './components/projects/projects.component';\r\nimport { SelectedItemInspectorComponent } from './components/selected-item-inspector/selected-item-inspector.component';\r\nimport { SelectedItemInfoComponent } from './components/selected-item-info/selected-item-info.component';\r\nimport { TopologyGridViewComponent } from './components/topology-grid-view/topology-grid-view.component';\r\nimport { AgGridModule } from 'ag-grid-angular';\r\nimport 'material-icons/iconfont/material-icons.css';\r\nimport { DomainLinkComponentComponent } from './components/domain-link-component/domain-link-component.component';\r\nimport { CommandsComponent } from './components/commands/commands.component';\r\nimport { ProjectDialogComponent } from './components/projectDialog/projectDialog.component';\r\n\r\nimport { CacheInterceptor } from './http-interceptors/cache-interceptor';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    TopologyComponent,\r\n    FilesTreeComponent,\r\n    SourceCodeComponent,\r\n    TepmlateEditorComponent,\r\n    SelectTableComponent,\r\n    MainToolbarComponent,\r\n    MainLayoutComponent,\r\n    ProjectsComponent,\r\n    SelectedItemInspectorComponent,\r\n    SelectedItemInfoComponent,\r\n    TopologyGridViewComponent,\r\n    DomainLinkComponentComponent,\r\n    CommandsComponent,\r\n    ProjectDialogComponent\r\n  ],\r\n  schemas: [\r\n    CUSTOM_ELEMENTS_SCHEMA,\r\n    NO_ERRORS_SCHEMA\r\n  ],  \r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    HttpClientModule,\r\n    NgxGraphModule,\r\n    BrowserAnimationsModule,\r\n    MatToolbarModule,\r\n    MatButtonModule,\r\n    MatButtonToggleModule,\r\n    MatIconModule,\r\n    MatSelectModule,\r\n    MatTabsModule,\r\n    MatTreeModule,\r\n    MatGridListModule,\r\n    MatInputModule,\r\n    MatAutocompleteModule,\r\n    MatListModule,\r\n    MatDividerModule,\r\n    MatProgressSpinnerModule,\r\n    MatTooltipModule,\r\n    MatCheckboxModule,\r\n    MatExpansionModule,\r\n    MatMenuModule,\r\n    MatSidenavModule,\r\n    MatChipsModule,\r\n    MatBottomSheetModule,\r\n    MatDialogModule,\r\n    ScrollingModule,\r\n    AceEditorModule,\r\n    FlexLayoutModule,\r\n    AgGridModule.withComponents([]),\r\n    AngularSplitModule\r\n  ],\r\n  providers: [\r\n    { provide: HTTP_INTERCEPTORS, useClass: CacheInterceptor, multi: true },\r\n    { provide: LocationStrategy, useClass: HashLocationStrategy },\r\n    { provide: MAT_BOTTOM_SHEET_DATA, useValue: {} },\r\n    { provide: MatBottomSheetRef, useValue: {} },    \r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nexport interface DialogData {\n  name: string;\n  template: string;\n  templateParams: string;\n  domain: boolean;\n}\n\n@Component({\n  selector: 'project-dialog',\n  templateUrl: './projectDialog.component.html',\n  styleUrls: ['./projectDialog.component.css']\n})\nexport class ProjectDialogComponent {\n\n  constructor(\n    public dialogRef: MatDialogRef<ProjectDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: DialogData,\n  ) {}\n\n  onNoClick(): void {\n    this.dialogRef.close();\n  }\n\n}\n","<h2 mat-dialog-title>Project</h2>\n<mat-dialog-content>\n  Project name <input [(ngModel)]=\"data.name\"><br />\n  Template <input [(ngModel)]=\"data.template\"><br />\n  <mat-checkbox [(ngModel)]=\"data.domain\">Domain</mat-checkbox><br />\n  <textarea cols=\"60\" rows=\"6\" [(ngModel)]=\"data.templateParams\"></textarea>\n</mat-dialog-content>\n<mat-dialog-actions>\n  <button mat-button mat-dialog-close>Cancel</button>\n  <button mat-button [mat-dialog-close]=\"data\">Save</button>\n</mat-dialog-actions>","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams, HttpUrlEncodingCodec } from '@angular/common/http';\nimport { ProjectService } from './project.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SourceFilesService {\n  \n  constructor(private http: HttpClient, private projectService: ProjectService) { }\n  private codec = new HttpUrlEncodingCodec()\n  private getFolder(): string {\n    if(this.projectService.currentProject?.templateParams) {\n      const params: any = this.projectService.currentProject?.templateParams\n      return params.folder + \"/\"\n    }    \n    return \"\"\n  }\n\n  getSourceFileContent(fileName: string) {\n    let params = new HttpParams().set('fileName', encodeURIComponent(fileName))   \n    let opt: Object = {\n      params,\n      responseType: 'text' as 'json'\n    }\n    return this.http.get<string>(\"/sourceFileContent\", opt)\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport { HttpInterceptor, HttpRequest, HttpHandler, HttpHeaders } from '@angular/common/http';\r\n\r\n@Injectable()\r\nexport class CacheInterceptor implements HttpInterceptor {\r\n\r\n  intercept(req: HttpRequest<any>, next: HttpHandler) {\r\n    const httpRequest = req.clone({\r\n      headers: new HttpHeaders({\r\n        'Cache-Control': 'no-cache',\r\n        'Pragma': 'no-cache',\r\n        'Expires': 'Sat, 01 Jan 2000 00:00:00 GMT'\r\n      })\r\n    });\r\n\r\n    return next.handle(httpRequest);\r\n  }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { Observable, of, forkJoin, pipe, from, merge, iif, EMPTY } from 'rxjs';\r\nimport { map, mergeMap, tap } from 'rxjs/operators';\r\nimport { Project } from '../classes/project';\r\nimport { TemplateService } from './template.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport { EventService } from './events.service';\r\nimport { Dataset, Named, TopologyNode } from '../classes/dataset';\r\nimport { Topology } from '../classes/topology';\r\nimport { DomainProjectLinksSearchResult } from '../classes/domain';\r\nimport { NodeType } from '../classes/node';\r\nimport { ProjectsDataResponse, SearchApiResponse } from '../classes/api';\r\nimport { ToolAction } from '../classes/toolAction';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ProjectService {\r\n\r\n  domainData?: Project[] = undefined;\r\n\r\n  currentProject?: Project = undefined;\r\n\r\n  queries = {\r\n    allDatasetProjectNames: {\r\n      \"selector\": {\r\n        \"$or\": [\r\n          {\"domain\": {\"$exists\": false}},\r\n          {\"domain\": {\"$ne\": true}}\r\n        ],\r\n        \"datasets\": {\r\n            \"$elemMatch\": {\r\n              \"name\": \"datasetName\"\r\n            }\r\n        }\r\n      },\r\n      \"fields\": [\"name\"],\r\n      \"limit\": 1000\r\n    },\r\n    allDatasetProjectsData: {\r\n      \"selector\": {\r\n        \"$or\": [\r\n          {\"domain\": {\"$exists\": false}},\r\n          {\"domain\": {\"$ne\": true}}\r\n        ],\r\n        \"datasets\": {\r\n            \"$elemMatch\": {\r\n              \"name\": \"datasetName\"\r\n            }\r\n        }\r\n      },\r\n      \"fields\": [\"name\", \"datasets\"],\r\n      \"limit\": 1000\r\n    },    \r\n    allLinksToDomainProject: {\r\n      \"selector\": {\r\n        \"domainLinks\": {\r\n            \"$elemMatch\": {\r\n              \"domainProject\": \"domainProject\"\r\n            }\r\n        }\r\n      },\r\n      \"fields\": [\r\n        \"name\",\r\n        \"domainLinks\"\r\n      ],\r\n      \"limit\": 1000\r\n    } \r\n}\r\n  private selectedNode: any;\r\n  \r\n  constructor(private http: HttpClient, private templateService: TemplateService, private eventService: EventService) { \r\n    eventService.projectNameEvent$.subscribe(value => {\r\n      of(value).\r\n      pipe(\r\n        mergeMap(()=>this.http.get<Project[]>(\"/projectFile\")),\r\n        map((projects: Project[])=>projects.find(p=>p.name==value)),\r\n        //mergeMap((value: string)=>this.getProject(value)),\r\n        map(project=>this.loadProject(project))\r\n      ).\r\n      subscribe((v)=>console.log(v))\r\n    })\r\n    eventService.nodeSelectedEvent$.subscribe(value => {\r\n      this.selectedNode = value;\r\n    })    \r\n  }\r\n\r\n  getProjects(): Observable<Project[]> {    \r\n    return this.http.get<Project[]>(\"/projectFile\")\r\n  }\r\n\r\n  saveProjects(projects: Project[]) {\r\n    let opt: Object = {\r\n       responseType: 'text' as 'json'\r\n    }\r\n    let formattedJSON = JSON.stringify(projects.map(p => new Project(p.name, p.template, p.templateParams, p.domain)), null, 4)\r\n    return this.http.post<string>(\"/projectFile\", formattedJSON, opt).pipe(mergeMap((res: string) => this.clearLostDataFiles()))\r\n  }\r\n  \r\n clearLostDataFiles() {\r\n    let opt: Object = {\r\n      responseType: 'text' as 'json'\r\n    }\r\n    return this.http.post<string>(\"/removeLostDataFiles\", \"\", opt)\r\n  }\r\n\r\n  getProject(name: string): Observable<Project | undefined> {\r\n    return of(name).\r\n    pipe(\r\n      mergeMap(() => this.getProjects()),\r\n      map((projects: Project[]) => projects.find(project => project.name === name))\r\n    )\r\n  }\r\n\r\n  private processProjectData(project: Project): Observable<Project> {\r\n    if(project.domain == true) {\r\n      return this.getLinksToDomainProject(project.name)\r\n        .pipe(\r\n            map((links: DomainProjectLinksSearchResult) =>  {\r\n              links.docs?.forEach(doc =>  {\r\n                doc.domainLinks?.forEach(link => {\r\n                  let found = project.data?.datasets.find(d=>d.name == link.domainItem);\r\n                  if(found) {\r\n                    let linked = new Dataset();\r\n                    linked.name = link.dataset || \"\";\r\n                    linked.project = doc.name || \"\";\r\n                    linked.datasetType = NodeType.linked;\r\n                    linked.in = []\r\n                    linked.out = []\r\n                    if(link.linkType == \"in\") {\r\n                      if(!found.in) {\r\n                        found.in = []\r\n                      }\r\n                      found.in.push(linked)\r\n                      linked.layer = \"in\"\r\n                    }\r\n                    if(link.linkType == \"out\") {\r\n                      if(!found.out) {\r\n                        found.out = []\r\n                      }\r\n                      found.out.push(linked)\r\n                      linked.layer = \"out\"\r\n                    }                    \r\n                  }\r\n                })\r\n              })\r\n              return project;\r\n            }));\r\n    }\r\n    return of(project)/*.pipe(map(p => {\r\n          this.loadProjectStat(p.name, \"additionalProps\").subscribe((addProps: any) => {\r\n            p.additionalData = addProps.datasetsAdditionalProps;\r\n            return p;\r\n          })\r\n          return p;\r\n        }\r\n      ));*/\r\n  }\r\n  \r\n  loadProject(project: Project | undefined, clearAll: boolean = true) {\r\n    this.currentProject = project;\r\n    if(project) {\r\n      if(clearAll === true) {\r\n        this.eventService.emitClearAllEvent()\r\n      }\r\n      this.eventService.emitLoadProjectEvent(project);\r\n      if(!project.data && !environment.singleHtml) {\r\n        of(project).\r\n        pipe(\r\n          map((project: Project) => {this.eventService.emitSpinnerEvent(true); return project}),\r\n          mergeMap((project: Project) => this.templateService.renderTemplate(\r\n            project.template, \r\n            JSON.stringify(project.templateParams).replace(\"@description\", this.selectedNode?.data?.dataset?.description))),\r\n          map((data: any) => {project.data = data; return project}),\r\n          mergeMap((project: Project) => this.processProjectData(project))\r\n        ).subscribe((p) => {\r\n          this.eventService.emitProjectEvent(p);\r\n          this.eventService.emitSpinnerEvent(false)\r\n        }, error => {\r\n          this.eventService.emitSpinnerEvent(false)\r\n          console.log(error)\r\n          alert(error.error)\r\n        })\r\n      } else {\r\n        this.eventService.emitProjectEvent(project)\r\n      }\r\n    }\r\n    return project\r\n  }\r\n\r\n  getProjectsInputOutput(normalisedTopologyTree: TopologyNode[], project: string): TopologyNode {\r\n    let newNode = function(node: any) {\r\n      let ioNode = new Dataset()\r\n      ioNode.name = node.name\r\n      ioNode.nodeType = node.nodeType\r\n      ioNode.project = project\r\n      ioNode.out = []\r\n      ioNode.in = []\r\n      ioNode.datasetType = node.datasetType;\r\n      ioNode.layer = node.layer\r\n      return ioNode\r\n    }\r\n    let result = new Dataset()\r\n    result.name = project\r\n    result.nodeType = NodeType.project\r\n    result.project = project\r\n    result.datasetType = NodeType.project\r\n    result.layer = project\r\n    let inNodes: TopologyNode[] = []\r\n    let outNodes:  TopologyNode[] = []\r\n    normalisedTopologyTree.forEach(node => {\r\n      if(node.in.length === 0) {\r\n        inNodes.push(newNode(node))\r\n      }\r\n      if(node.out.length === 0) {\r\n        let nextDs = normalisedTopologyTree.find(d => d.in.find(i => i.name === node.name) != undefined)\r\n        if(!nextDs) {\r\n          outNodes.push(newNode(node))\r\n        }\r\n      }\r\n    })\r\n    result.in = inNodes\r\n    result.out = outNodes\r\n    this.saveProjectStat(result, project, \"inout\")\r\n    return result\r\n  }\r\n\r\n  saveProjectStat(projectStat: any, project: string, propsName: string) {\r\n    \r\n    this.getProject(project).subscribe(p=>{\r\n      if(p) {\r\n        projectStat.domain = p.domain\r\n        let params = new HttpParams()\r\n        .set('project', project)\r\n        .set('propsName', propsName)\r\n  \r\n        this.http.post<any>(\"/projectStat\", projectStat, {params})\r\n          .subscribe(s => console.log(s));\r\n      }\r\n    })\r\n  }\r\n\r\n  loadProjectStat(project: string, propsName: string) {\r\n    let params = new HttpParams()\r\n      .set('project', project)\r\n      .set('propsName', propsName)\r\n    return this.http.get(\"/projectStat\", { params })\r\n  }\r\n\r\n  getProjectData(project: Project) {\r\n    return this.loadProjectStat(project.name, \"normalizedTree\").pipe(map(s=>{        \r\n      if(project) {\r\n        if(!project.data) {\r\n          project.data = new Topology();                         \r\n        }\r\n        project.data.datasets = (s as any).datasets;\r\n      }\r\n      return project;\r\n    }))\r\n  }  \r\n\r\n  getAllDatasetProjects(datasetName: string): Observable<SearchApiResponse> {\r\n    let q = JSON.parse(JSON.stringify(this.queries.allDatasetProjectNames))\r\n    q.selector.datasets.$elemMatch.name = datasetName\r\n    return this.search(q) as Observable<SearchApiResponse>\r\n  }\r\n\r\n  getInDatasets(tableName: string, tables: TopologyNode[], visited: string[] | undefined = undefined, pname: string = \"in\"): string[] {\r\n    if(!visited) {\r\n      visited = []\r\n    }\r\n    if(visited.indexOf(tableName) !== -1) {\r\n      return [];\r\n    }\r\n    visited.push(tableName)\r\n    let table: any = tables.find(d => d.name == tableName)\r\n    if(table) {\r\n      let io: Dataset[] | undefined = table[pname]\r\n      let intables: string[] = io?.map(d => d.name) || []\r\n      let res: string[]  = []\r\n      intables.forEach(t => res = res.concat(this.getInDatasets(t, tables, visited, pname) || []))\r\n      return Array.from(new Set(res.concat(intables)))\r\n    } else {\r\n      return []\r\n    }\r\n  }\r\n\r\n  getUsageDatasets(tableName: string, tables: TopologyNode[]): string[] {\r\n    let usageTables: string[] = tables.filter(d => (d.in || []).map(i => i.name).concat((d.out || []).map(i => i.name)).includes(tableName)).map(i => i.name)\r\n    return usageTables\r\n  }  \r\n\r\n  buildDatasetVirtualProject(datasetName: string) {\r\n    this.eventService.emitClearAllEvent()\r\n    \r\n    let q = JSON.parse(JSON.stringify(this.queries.allDatasetProjectsData))\r\n    q.selector.datasets.$elemMatch.name = datasetName    \r\n    let resp = (this.search(q) as Observable<ProjectsDataResponse>)\r\n      .subscribe(res => {\r\n        let project = new Project(datasetName, \"\", undefined, undefined)\r\n        project.data = new Topology()\r\n        project.data.datasets = []\r\n        let normalized: TopologyNode[] = []\r\n        project.virtual = true;\r\n\r\n        res.docs.forEach(pd => {\r\n          /***********************************/\r\n/*          let pdd = pd.datasets.find(d=>d.name==datasetName)\r\n          if(pdd) {\r\n            let found = normalized.find(n=>n.name==datasetName)\r\n            if(!found) {\r\n              normalized.push(pdd)\r\n            } else {\r\n              //Неправильно! уже тут надо конструировать!\r\n              found.in = this.concatNamed(found.in, pdd.in);\r\n              found.out = this.concatNamed(found.out, pdd.out);      \r\n            }\r\n            found = normalized.find(n=>n.name==datasetName)\r\n            console.log(found)\r\n            let allin = this.getInDatasets(datasetName, pd.datasets)\r\n            let allout = this.getInDatasets(datasetName, pd.datasets, undefined, \"out\")    \r\n            console.log(allin)\r\n            console.log(allout)\r\n          }\r\n*/          \r\n          /***********************************/\r\n\r\n\r\n          pd.datasets.forEach(pdd=>{\r\n            let found = normalized.find(n=>n.name==pdd.name)\r\n            if(!found) {\r\n              normalized.push(pdd)\r\n            } else {\r\n              found.in = this.concatNamed(found.in, pdd.in);\r\n              found.in.forEach(d=>d.out=[])\r\n              found.out = this.concatNamed(found.out, pdd.out);\r\n              found.out.forEach(d=>d.in=[])\r\n            }\r\n          })\r\n        })\r\n        let allin = this.getInDatasets(datasetName, normalized)\r\n        let allout = this.getInDatasets(datasetName, normalized, undefined, \"out\")\r\n        let namesToExclude: string[] = []\r\n        project.data.datasets = normalized\r\n          .filter(d=>d.name==datasetName || allin.indexOf(d.name) != -1 || allout.indexOf(d.name) != -1)\r\n          .map(d=>{\r\n            if(allin.indexOf(d.name) !== -1 && d.name !== datasetName) {\r\n              namesToExclude = namesToExclude.concat(d.out.map(dd=>dd.name))\r\n              d.out=[]\r\n              d.in=d.in.filter(i=>i.name==datasetName || allin.indexOf(i.name)!=-1)\r\n            }\r\n            if(allout.indexOf(d.name) !== -1 && d.name !== datasetName) {\r\n              namesToExclude = namesToExclude.concat(d.in.map(dd=>dd.name))\r\n              d.in=[]\r\n              d.out=d.out.filter(i=>i.name==datasetName || allout.indexOf(i.name)!=-1)\r\n            }\r\n            return d\r\n          })\r\n        project.data.datasets = project.data.datasets\r\n          .filter(d=>namesToExclude.indexOf(d.name) == -1 || d.name == datasetName)\r\n          .filter(d=>(d.out.length>0||d.in.length>0))\r\n        this.eventService.emitProjectEvent(project)\r\n      })\r\n  }\r\n\r\n  concatNamed<T extends Named>(list1: T[], list2: T[]): T[] {\r\n    list2.forEach(d2 => {\r\n      if(list1.find(d1  => d1.name == d2.name) == undefined) {\r\n        list1.push(JSON.parse(JSON.stringify(d2)));\r\n      }\r\n    })\r\n    return list1;\r\n  }  \r\n\r\n  normaizeTree(normalised: TopologyNode[],  datasets: TopologyNode[], level: number) {\r\n    datasets.forEach(dd => {\r\n      let found: TopologyNode | undefined = normalised.find(n => n.name == dd.name);      \r\n      if(found == undefined) {\r\n        normalised.push(JSON.parse(JSON.stringify(dd)));\r\n        this.normaizeTree(normalised, dd.in.concat(dd.out), level + 1);\r\n      } else {\r\n        let prev = found.in.length + found.out.length\r\n        found.in = this.concatNamed(found.in, dd.in);\r\n        found.out = this.concatNamed(found.out, dd.out);\r\n        if(dd instanceof Dataset && found instanceof Dataset) {\r\n          found.fields = this.concatNamed(found.fields || [], (dd as Dataset).fields || []);\r\n        }        \r\n        if((prev != found.in.length + found.out.length) || level === 0) {\r\n          this.normaizeTree(normalised, dd.in.concat(dd.out), level + 1);\r\n        }          \r\n      }            \r\n    })\r\n  }  \r\n\r\n  normalizeDataset(normalised: Dataset[], dataset: Dataset) {\r\n    dataset.out.forEach(out => {\r\n      let mainDs = normalised.find(d => d.name == out.name);\r\n      if(mainDs) {\r\n        if(!mainDs.in.find(i => i.name == dataset.name)) {\r\n          mainDs.in.push(JSON.parse(JSON.stringify(dataset)))\r\n        }\r\n      } else {\r\n        throw \"Not found main ds\"\r\n      }\r\n      out.in = []\r\n      out.out = []\r\n    })\r\n    dataset.in.forEach(inds => {\r\n      let mainDs = normalised.find(d => d.name == inds.name);\r\n      if(mainDs) {\r\n        if(!mainDs.out.find(i => i.name == dataset.name)) {\r\n          mainDs.out.push(JSON.parse(JSON.stringify(dataset)))\r\n        }\r\n      } else {\r\n        throw \"Not found main ds\"\r\n      }\r\n      inds.in = []\r\n      inds.out = []\r\n    })    \r\n  }  \r\n\r\n  getLinksToDomainProject(domainProject: string) { \r\n    let q = JSON.parse(JSON.stringify(this.queries.allLinksToDomainProject))    \r\n    q.selector.domainLinks.$elemMatch.domainProject = domainProject\r\n    return this.search(q)\r\n  }\r\n\r\n  search(query: any) {\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type':  'application/json'\r\n      })\r\n    };    \r\n    return this.http.post(\"/find\", query, httpOptions)\r\n  }\r\n\r\n  getDomainData() {\r\n    if(!this.domainData) {\r\n       this.getProjects().subscribe(data => {\r\n              this.domainData = data.filter(p=>p.domain == true);\r\n              /*this.domainData.forEach(project => \r\n                this.templateService.renderTemplate(project.template, JSON.stringify(project.templateParams))\r\n                  .subscribe((s: any) => project.data = s)\r\n              );*/\r\n              this.eventService.emitDomainListEvent(this.domainData);\r\n        });\r\n    } else {\r\n      this.eventService.emitDomainListEvent(this.domainData);\r\n    }\r\n  }\r\n\r\n}\r\n","import { DatasetAdditionalProps } from \"./dataset\";\r\nimport { Topology } from \"./topology\";\r\n\r\nexport class Project {\r\n  name!: string;\r\n  template!: string;\r\n  templateParams?: any;\r\n  data?: Topology;\r\n  enable?: boolean = true;\r\n  domain?: boolean = false;\r\n  virtual?: boolean = false;\r\n  additionalData?: DatasetAdditionalProps[] = [];\r\n  constructor (name: string = \"\", template: string = \"\", templateParams: any = undefined, domain?: boolean) {\r\n    this.name = name\r\n    this.template = template\r\n    this.templateParams = templateParams\r\n    this.domain = domain\r\n  };\r\n}\r\n\r\nexport class ProjectAdditionalProperties {\r\n  datasetsAdditionalProps?: DatasetAdditionalProps[] = [];\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { TemplateFile } from '../classes/tempates';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TemplateService {\r\n  \r\n  constructor(private http: HttpClient) { }\r\n\r\n  loadTemplate(file: string) {\r\n    let params = new HttpParams()\r\n      .set('template', file);\r\n      let opt: Object = {\r\n        params,\r\n        responseType: 'text' as 'json'\r\n      }\r\n    return this.http.get<string>(\"/loadTemplate\", opt) // { params, responseType: undefined })\r\n  }\r\n\r\n  saveTemplate(template: TemplateFile): Observable<TemplateFile> {\r\n    return this.http.post<TemplateFile>(\"/saveTemplate\", template)\r\n  }\r\n\r\n  renderTemplate(fileName: string, templateParams?: string) {\r\n    let params = new HttpParams()\r\n      .set('fileName', fileName).set('params', templateParams || \"{}\")\r\n    params.append(\"fileName\", fileName)\r\n    if(templateParams) {\r\n      params.append(\"params\", templateParams)\r\n    }    \r\n    return this.http.get(\"/renderTemplate\", { params })\r\n  }\r\n\r\n  renderTemplateByBody(fileBody: string, fileName: string, templateParams?: string) {\r\n    let params = new HttpParams()\r\n      .set('templateName', fileName).set('params', templateParams || \"{}\")\r\n    params.append(\"fileName\", fileName)\r\n    if(templateParams) {\r\n      params.append(\"params\", templateParams)\r\n    }    \r\n    return this.http.post<string>(\"/renderTemplateBody\", fileBody, { params })\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Field, Named, TopologyNode } from 'src/app/classes/dataset';\r\nimport { EventService } from 'src/app/services/events.service';\r\nimport { NestedTreeControl } from '@angular/cdk/tree';\r\nimport { MatTreeNestedDataSource } from '@angular/material/tree';\r\nimport { SourceFilesService } from 'src/app/services/files.service';\r\nimport { ProjectService } from 'src/app/services/project.service';\r\nimport { MatBottomSheet } from '@angular/material/bottom-sheet';\r\nimport { DomainLinkComponentComponent } from '../domain-link-component/domain-link-component.component';\r\nimport { ContentFile } from 'src/app/classes/files'\r\n\r\nclass Data {\r\n  useInProjects: Named[] | undefined = undefined\r\n}\r\n\r\n@Component({\r\n  selector: 'selected-item-inspector',\r\n  templateUrl: './selected-item-inspector.component.html',\r\n  styleUrls: ['./selected-item-inspector.component.css']\r\n})\r\nexport class SelectedItemInspectorComponent implements OnInit {\r\n\r\n  selected: any;\r\n  selectedNodeProject: string | undefined;\r\n  currentProject: string | undefined;\r\n  data: Data = new Data();\r\n  tables: string[] = [];\r\n\r\n  treeControl = new NestedTreeControl<Field>(node => node.sources);\r\n\r\n  dataSource = new MatTreeNestedDataSource<Field>();\r\n\r\n  constructor(private _bottomSheet: MatBottomSheet, private eventService: EventService, private sourceFilesService: SourceFilesService, \r\n    private projectService: ProjectService) {\r\n    eventService.nodeSelectedEvent$.subscribe(value => {\r\n      this.selected = value;\r\n      this.getProjects();\r\n      this.dataSource.data = this.selected?.data?.dataset?.fields;\r\n      this.eventService.emitGetGetSelectedNodeProjectEvent(value);\r\n    })\r\n    eventService.returnSelectedNodeProjectEvent$.subscribe(value => {\r\n      this.selectedNodeProject = value\r\n    })\r\n    this.eventService.clearAllEvent$.subscribe(value => {\r\n      this.selected = undefined;\r\n      this.data = new Data();\r\n      this.selectedNodeProject = undefined;\r\n    })\r\n    this.eventService.projectEvent$.subscribe(value => {\r\n      this.currentProject = value.name;\r\n    })\r\n    eventService.tableListEvent$.subscribe(value => {\r\n      this.tables = value.map(d => (d?.name)||\"\").sort()\r\n    })\r\n\r\n  }\r\n\r\n  hasChild = (_: number, node: Field) => !!node.sources && node.sources.length > 0;\r\n\r\n  loadProject(project: string | undefined) {\r\n    if(project) {\r\n      this.eventService.emitProjectNameEvent(project)\r\n    }    \r\n  }\r\n\r\n  filterByTableIn(tableName: string | undefined) {\r\n    if(tableName) {\r\n      this.eventService.emitFilterByTableInEvent(tableName);\r\n    }    \r\n  }\r\n  filterByTableUsage(tableName: string | undefined) {\r\n    if(tableName) {\r\n      this.eventService.emitFilterByTableUsageEvent(tableName);\r\n    }    \r\n  }\r\n  filterByProject(project: string | undefined) {\r\n    if(project) {\r\n      this.eventService.emitFilterByProjectEvent(project);\r\n    }    \r\n  }  \r\n  clearProjectFilter() {\r\n    this.eventService.emitClearProjectFilterEvent();\r\n  }  \r\n\r\n  clearTableFilter() {\r\n    this.eventService.emitClearTableFilterEvent();\r\n  }\r\n\r\n  getType() {\r\n      return this.selected?.data?.dataset?.datasetType;\r\n  }\r\n\r\n  getSource() {\r\n    return this.selected?.data?.dataset?.sourceFile;    \r\n  }\r\n\r\n  getSourceAsArray() {\r\n    return this.selected?.data?.dataset?.sourceFile?.split(\";\");\r\n  }  \r\n\r\n  getAction() {\r\n    return this.selected?.data?.dataset?.action;    \r\n  }\r\n\r\n  getSourceFile() {\r\n    this.sourceFilesService.getSourceFileContent(this.selected.data?.dataset?.sourceFile)    \r\n      .subscribe(\r\n        fileContent => {\r\n          this.eventService.emitOpenSourceFileEvent(new ContentFile(this.selected.data?.dataset?.sourceFile, fileContent))\r\n        },\r\n        error => {\r\n          console.log(error)\r\n          alert(error.error)\r\n        }\r\n      )\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  selectTable(value: string|undefined) {\r\n    this.eventService.emitTableSelectedEvent(value)\r\n  }  \r\n\r\n  getProjects() {\r\n    return this.projectService.getAllDatasetProjects(this.selected?.data?.dataset?.name)\r\n    .subscribe(      \r\n      (projects: any) => {\r\n        this.data.useInProjects = projects.docs\r\n      }\r\n    )\r\n  }\r\n\r\n  getAdditionalProject(): string | undefined {\r\n    if(this.selected?.data?.dataset?.project && this.data.useInProjects) {\r\n      if(this.selected?.data?.dataset?.project != \"\") {\r\n        if(!this.data.useInProjects.find(p => p.name === this.selected.data.dataset.project)) {\r\n          return this.selected?.data?.dataset?.project\r\n        }\r\n      }\r\n    }\r\n    return undefined\r\n  }\r\n  \r\n  openBottomSheet(): void {\r\n    this._bottomSheet.open(DomainLinkComponentComponent, {\r\n      data: { currentProject: this.currentProject, currentItem:  this.selected?.data?.dataset?.name, tables: this.tables },\r\n    });\r\n  }\r\n  \r\n  loadDatasetVirtualProject(datasetName: string | undefined) {\r\n    if(datasetName) {\r\n      this.projectService.buildDatasetVirtualProject(datasetName)\r\n    }\r\n  }  \r\n\r\n}\r\n","<mat-expansion-panel expanded=\"true\">\r\n  <mat-expansion-panel-header>\r\n    <mat-panel-title>\r\n      {{selected?.data?.dataset?.name}}<br />\r\n      {{selected?.data?.dataset?.description}}\r\n    </mat-panel-title>\r\n  </mat-expansion-panel-header>\r\n  <ng-container *ngIf=\"getAction() != undefined\">\r\n    <label>Action:</label>\r\n    <label>{{getAction()}}</label>\r\n  </ng-container>\r\n  <mat-chip-list aria-label=\"Projects\" *ngIf=\"selected\">\r\n    <mat-chip *ngFor=\"let project of data?.useInProjects\" (click)=\"loadProject(project.name)\" [selected]=\"project.name == currentProject\" matTooltip=\"Load project {{project.name}}\">{{project.name}}</mat-chip>\r\n    <mat-chip *ngIf=\"getAdditionalProject()\" (click)=\"loadProject(selected?.data?.dataset?.project)\" [selected]=\"selected?.data?.dataset?.project == currentProject\" matTooltip=\"Load project {{selected?.data?.dataset?.project}}\">{{selected?.data?.dataset?.project}}</mat-chip>\r\n    <mat-chip (click)=\"loadDatasetVirtualProject(this.selected?.data?.dataset?.name)\" selected color=\"accent\" matTooltip=\"Build full project for {{this.selected?.data?.dataset?.name}}\">Full</mat-chip>\r\n  </mat-chip-list>\r\n  <br />\r\n  <a *ngFor=\"let source of getSourceAsArray()\" [routerLink]=\"\" style=\"word-wrap:break-word;\" (click)=\"getSourceFile()\">{{source}}</a>\r\n  <mat-action-row *ngIf=\"selected\">\r\n    <button mat-button color=\"basic\" matTooltip=\"Filter. Show this object lineage\" (click)=\"filterByTableIn(selected?.data?.dataset?.name)\">\r\n      <mat-icon>done</mat-icon>\r\n    </button>\r\n    <button mat-button color=\"basic\" matTooltip=\"Filter. Show object usage\" (click)=\"filterByTableUsage(selected?.data?.dataset?.name)\">\r\n      <mat-icon>filter_alt</mat-icon>\r\n    </button>                    \r\n    <button mat-button color=\"basic\" matTooltip=\"Clear filter\" (click)=\"clearTableFilter()\">\r\n      <mat-icon>clear</mat-icon>\r\n    </button>\r\n    <button mat-button color=\"basic\" matTooltip=\"Show domain links\" (click)=\"openBottomSheet()\">\r\n      <mat-icon>link</mat-icon>\r\n    </button>        \r\n  </mat-action-row>\r\n</mat-expansion-panel>","import { Component, OnInit, Input } from '@angular/core';\nimport { ProjectFileDir } from 'src/app/classes/topology';\nimport { FlatTreeControl } from '@angular/cdk/tree';\nimport { MatTreeFlatDataSource, MatTreeFlattener } from '@angular/material/tree';\n\ninterface ExampleFlatNode {\n  expandable: boolean;\n  name: string;\n  level: number;\n  data: ProjectFileDir\n}\n\n@Component({\n  selector: 'files-tree',\n  templateUrl: './files-tree.component.html',\n  styleUrls: ['./files-tree.component.css']\n})\nexport class FilesTreeComponent implements OnInit {\n\n  @Input()\n  filesTree?: ProjectFileDir[]\n\n  private _transformer = (node: ProjectFileDir, level: number) => {\n    return {\n      expandable: !!node.childDirs && node.childDirs.length > 0,\n      name: node.name,\n      level: level,\n      data: node\n    };\n  }  \n\n  treeControl = new FlatTreeControl<ExampleFlatNode>(\n    node => node.level, node => node.expandable);\n\n  treeFlattener = new MatTreeFlattener(\n      this._transformer, node => node.level, node => node.expandable, node => node.childDirs); \n\n  dataSource = new MatTreeFlatDataSource(this.treeControl, this.treeFlattener);\n\n  constructor() { \n    this.filesTree = []\n  }\n\n  hasChild = (_: number, node: ExampleFlatNode) => node.expandable;\n\n  ngOnInit(): void {\n    if(this.filesTree) {\n      this.dataSource.data = this.filesTree;\n    } else {\n      this.dataSource.data = []\n    }\n    \n  }\n\n}\n","<mat-tree [dataSource]=\"dataSource\" [treeControl]=\"treeControl\">\n    <!-- This is the tree node template for leaf nodes -->\n    <mat-tree-node *matTreeNodeDef=\"let node\" matTreeNodePadding>\n      <!-- use a disabled button to provide padding for tree leaf -->\n      <button mat-icon-button disabled></button>\n      {{node.name}}\n    </mat-tree-node>\n    <!-- This is the tree node template for expandable nodes -->\n    <mat-tree-node *matTreeNodeDef=\"let node;when: hasChild\" matTreeNodePadding>\n      <button mat-icon-button matTreeNodeToggle\n              [attr.aria-label]=\"'Toggle ' + node.name\">\n        <mat-icon class=\"mat-icon-rtl-mirror\">\n          {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}\n        </mat-icon>\n      </button>\n      {{node.name}}\n    </mat-tree-node>\n  </mat-tree>\n","import { Component, OnInit, Input, ViewChild } from '@angular/core';\n\n@Component({\n  selector: 'app-source-code',\n  templateUrl: './source-code.component.html',\n  styleUrls: ['./source-code.component.css']\n})\nexport class SourceCodeComponent implements OnInit {\n\n  @Input()\n  codeValue: any = undefined;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div ace-editor\n[(text)]=\"codeValue\" style=\"height:600px;\">\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Dataset } from 'src/app/classes/dataset';\nimport { EventService } from 'src/app/services/events.service';\n\n@Component({\n  selector: 'topology-grid-view',\n  templateUrl: './topology-grid-view.component.html',\n  styleUrls: ['./topology-grid-view.component.css']\n})\nexport class TopologyGridViewComponent implements OnInit {\n\n   withFields = true;\n   gridApi: any;\n   gridColumnApi: any;\n\n   defaultColDef: any;\n   popupParent: any;\n   columnDefs: any = [\n    { field: 'database', resizable: true, filter: 'agTextColumnFilter', },\n    { field: 'tableName', resizable: true, filter: 'agTextColumnFilter', },\n    { field: 'fieldName', resizable: true, filter: 'agTextColumnFilter', }\n  ];  \n\n  rowData: any = [\n    { database: '', tableName: '', fieldName: '' }\n  ];\n\n  tables: (Dataset|undefined)[] = [];\n  constructor(private eventService: EventService) { \n    this.defaultColDef = {\n      editable: true,\n      resizable: true,\n      minWidth: 100,\n      flex: 1,\n    };\n\n    this.popupParent = document.body;\n    eventService.tableListEvent$.subscribe(value => {\n      this.tables =value;\n      this.setData()\n    })\n  }\n\n  setData() {\n    let data: {}[] = []\n    this.tables.sort((a,b)=> a?.name.localeCompare(b?.name || \"\") || 0).forEach(d => {\n      const names = (d?.name || \"\").split(\".\");\n      const database: string = names.length > 0 ? names[0] : \"\"\n      const tableName: string = (database !== \"\" ? d?.name.replace(database + \".\", \"\") : d?.name) || \"\";\n      if(d?.fields && this.withFields === true) {\n        d.fields.sort((a, b) => a.name.localeCompare(b.name)).forEach(f => {\n          if(!f.name.includes(\".\")) {\n            data.push({\"database\": database, \"tableName\": tableName, \"fieldName\": f.name});\n          }          \n        })        \n      }       \n      data.push({\"database\": database, \"tableName\": tableName, \"fieldName\": \"\"});            \n    });\n    this.rowData = data;\n  }\n\n  onGridReady(params: any) {\n    this.gridApi = params.api;\n    this.gridColumnApi = params.columnApi;\n  }\n  \n  onBtnExport() {\n    this.gridApi.exportDataAsCsv({columnSeparator: \";\"});\n  }\n\n  ngOnInit(): void {\n  }\n\n  setWithFields(withFields: boolean) {\n    this.withFields = withFields;\n    this.setData();\n  }\n\n}\n","\n<mat-checkbox class=\"example-margin\"\n    [checked]=\"withFields\"\n    (change)=\"setWithFields($event.checked)\"\n    color=\"primary\">\n    With fields\n</mat-checkbox>\n&nbsp;\n<button (click)=\"onBtnExport()\">Export</button>\n<ag-grid-angular\n    #agGrid\n    style=\"width: 100%; height: 95.7%;\"\n    class=\"ag-theme-alpine\"\n    [rowData]=\"rowData\"\n    [columnDefs]=\"columnDefs\"\n    [popupParent]=\"popupParent\"\n    [columnDefs]=\"columnDefs\"    \n    (gridReady)=\"onGridReady($event)\">\n</ag-grid-angular>","import { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { Command } from 'src/app/classes/commands';\nimport { SysutilService, RunOperator } from 'src/app/services/sysutil.service';\n\n\n@Component({\n  selector: 'app-commands',\n  templateUrl: './commands.component.html',\n  styleUrls: ['./commands.component.css']\n})\nexport class CommandsComponent implements OnInit {\n\n  commands: RunOperator[] = []\n  configCommands: Command[] = []\n  runit: string = \"\"\n  \n  constructor(private sysutilService: SysutilService) { \n    sysutilService.getConfigCommands().subscribe(c => this.configCommands = c)\n  }\n\n  ngOnInit(): void {\n  }\n\n  runIt(shcommand: string) {\n    this.sysutilService.runShCommand(shcommand).subscribe(value => {\n      this.commands = []\n      this.commands = this.sysutilService.commands;\n    })\n  }\n\n  addToConfig() {\n    let name = prompt(\"New command name:\")\n    if(name != null) {\n      let newCommand = new Command()\n      newCommand.name = name\n      newCommand.template = this.runit\n      this.configCommands.push(newCommand)\n      this.sysutilService.saveConfigCommands(this.configCommands)\n        .subscribe(v => this.sysutilService.getConfigCommands().subscribe(c => this.configCommands = c))\n    }\n  }\n\n  refreshlog(command: RunOperator) {\n    this.sysutilService.refreshLog(command).subscribe(value => {\n      command.log = value\n    })\n  }  \n\n}\n","<mat-accordion class=\"example-headers-align\">\n  <mat-expansion-panel>\n    <mat-expansion-panel-header>\n      <mat-panel-title>\n          Sh command to run\n      </mat-panel-title>\n    </mat-expansion-panel-header>\n    <p matLine>\n      <input type=\"text\" size=\"120\" [(ngModel)]=\"runit\" [matAutocomplete]=\"auto\">\n      <mat-autocomplete #auto=\"matAutocomplete\">\n        <mat-option *ngFor=\"let command of configCommands\" [value]=\"command.template\">\n          {{command.name + \": \" + command.template}}\n        </mat-option>\n      </mat-autocomplete>\n      <button mat-button color=\"basic\" matTooltip=\"Save this command\" (click)=\"addToConfig()\">\n        <mat-icon>add</mat-icon>\n      </button>      \n    </p>\n    <mat-action-row>\n      <button mat-button color=\"basic\" matTooltip=\"Run this command\" (click)=\"runIt(runit)\">\n          Run\n          <mat-icon>play_arrow</mat-icon>\n      </button>\n    </mat-action-row>\n  </mat-expansion-panel>  \n  <mat-expansion-panel *ngFor=\"let command of commands\">\n    <mat-expansion-panel-header>\n      <mat-panel-title>\n          {{command.shCommand}}\n      </mat-panel-title>\n    </mat-expansion-panel-header>\n    <p matLine>\n      {{command.runid}}\n    </p>\n    <p matLine>\n      <textarea cols=\"60\" rows=\"6\" disabled>{{command.log}}</textarea>        \n    </p>\n    <mat-action-row>\n      <button mat-button color=\"basic\" (click)=\"refreshlog(command)\">\n          Refresh\n          <mat-icon>autorenew</mat-icon>\n      </button>\n    </mat-action-row>\n  </mat-expansion-panel>\n<mat-accordion>\n","import { Dataset, Field, TopologyNode } from \"./dataset\"\r\nimport { Tool, ToolAction } from \"./toolAction\"\r\n\r\nexport class ProjectFileDir {\r\n  project: string = \"\"\r\n  name: string = \"\"\r\n  childDirs?: ProjectFileDir[]\r\n  isFile: boolean = false\r\n  fileContent: string = \"\"\r\n}\r\n\r\nexport class Topology {\r\n  tools!: Tool[]\r\n  actions: ToolAction[] = []\r\n  datasets!: Dataset[]\r\n  projectFiles?: ProjectFileDir[]\r\n  fields?: Field[] \r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { Node, NodeData } from \"../classes/node\";\r\nimport { Project } from '../classes/project';\r\nimport { ContentFile } from 'src/app/classes/files'\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class EventService { \r\n  constructor() { }\r\n\r\n  ngOnDestroy() {\r\n    this.clearAllEventSource.complete()\r\n  }\r\n\r\n  private clearAllEventSource = new Subject<boolean>();\r\n  clearAllEvent$ = this.clearAllEventSource.asObservable();\r\n  emitClearAllEvent() {\r\n    this.clearAllEventSource.next(true);\r\n  }\r\n\r\n  private nodeSelectedEventSource = new Subject<Node>();\r\n  nodeSelectedEvent$ = this.nodeSelectedEventSource.asObservable();\r\n  emitNodeSelectedEvent(node: Node) {\r\n    this.nodeSelectedEventSource.next(node);\r\n  }\r\n\r\n  private getSelectedNodeProjectEventSource = new Subject<Node>();\r\n  getSelectedNodeProjectEvent$ = this.getSelectedNodeProjectEventSource.asObservable();\r\n  emitGetGetSelectedNodeProjectEvent(node: Node) {\r\n    this.getSelectedNodeProjectEventSource.next(node);\r\n  }\r\n\r\n  private returnSelectedNodeProjectEventSource = new Subject<string | undefined>();\r\n  returnSelectedNodeProjectEvent$ = this.returnSelectedNodeProjectEventSource.asObservable();\r\n  emitReturnSelectedNodeProjectEvent(projects: string | undefined) {\r\n    this.returnSelectedNodeProjectEventSource.next(projects);\r\n  }\r\n\r\n  private joinDataEventSource = new Subject<any>();\r\n  joinDataEvent$ = this.joinDataEventSource.asObservable();\r\n  emitJoinDataEvent(data: any) {\r\n    this.joinDataEventSource.next(data);\r\n  }\r\n\r\n  private loadProjectEventSource = new Subject<Project>();\r\n  loadProjectEvent$ = this.loadProjectEventSource.asObservable();\r\n  emitLoadProjectEvent(data: Project) {\r\n    this.loadProjectEventSource.next(data);\r\n  }\r\n\r\n  private openSourceFileEventSource = new Subject<ContentFile>();\r\n  openSourceFileEvent$ = this.openSourceFileEventSource.asObservable();\r\n  emitOpenSourceFileEvent(data: ContentFile) {\r\n    this.openSourceFileEventSource.next(data);\r\n  }\r\n\r\n  private projectEventSource = new Subject<Project>();\r\n  projectEvent$ = this.projectEventSource.asObservable();\r\n  emitProjectEvent(data: Project) {\r\n    this.projectEventSource.next(data);\r\n  }\r\n\r\n  private projectNameEventSource = new Subject<string>();\r\n  projectNameEvent$ = this.projectNameEventSource.asObservable();\r\n  emitProjectNameEvent(data: any) {\r\n    this.projectNameEventSource.next(data);\r\n  }  \r\n\r\n  private tableListEventSource = new Subject<any[]>();\r\n  tableListEvent$ = this.tableListEventSource.asObservable();\r\n  emitTableListEvent(list: any[]) {\r\n    this.tableListEventSource.next(list);\r\n  }\r\n\r\n  private tableSelectedEventSource = new Subject<string|undefined>();\r\n  tableSelectedEvent$ = this.tableSelectedEventSource.asObservable();\r\n  emitTableSelectedEvent(value: string|undefined) {\r\n    this.tableSelectedEventSource.next(value);\r\n  }  \r\n\r\n  private spinnerEventSource = new Subject<boolean>();\r\n  spinnerEvent$ = this.spinnerEventSource.asObservable();\r\n  emitSpinnerEvent(value: boolean) {\r\n    this.spinnerEventSource.next(value);\r\n  }\r\n\r\n  private wideLayoutEventSource = new Subject<boolean>();\r\n  wideLayoutEvent$ = this.wideLayoutEventSource.asObservable();\r\n  emitWideLayoutEvent(value: boolean) {\r\n    this.wideLayoutEventSource.next(value);\r\n  }\r\n\r\n  private narrowLayoutEventSource = new Subject<boolean>();\r\n  narrowLayoutEvent$ = this.narrowLayoutEventSource.asObservable();\r\n  emitNarrowLayoutEvent(value: boolean) {\r\n    this.narrowLayoutEventSource.next(value);\r\n  }  \r\n\r\n  private filterByTableInEventSource = new Subject<string>();\r\n  filterByTableInEvent$ = this.filterByTableInEventSource.asObservable();\r\n  emitFilterByTableInEvent(tableName: string) {\r\n    this.filterByTableInEventSource.next(tableName);\r\n  }\r\n\r\n  private filterByTableUsageEventSource = new Subject<string>();\r\n  filterByTableUsageEvent$ = this.filterByTableUsageEventSource.asObservable();\r\n  emitFilterByTableUsageEvent(tableName: string) {\r\n    this.filterByTableUsageEventSource.next(tableName);\r\n  }\r\n\r\n  private filterByProjectEventSource = new Subject<string>();\r\n  filterByProjectEvent$ = this.filterByProjectEventSource.asObservable();\r\n  emitFilterByProjectEvent(project: string) {\r\n    this.filterByProjectEventSource.next(project);\r\n  }  \r\n\r\n  private clearProjectFilterEventSource = new Subject<boolean>();\r\n  clearProjectFilterEvent$ = this.clearProjectFilterEventSource.asObservable();\r\n  emitClearProjectFilterEvent() {\r\n    this.clearProjectFilterEventSource.next(true);\r\n  }  \r\n  \r\n  private clearTableFilterEventSource = new Subject<boolean>();\r\n  clearTableFilterEvent$ = this.clearTableFilterEventSource.asObservable();\r\n  emitClearTableFilterEvent() {\r\n    this.clearTableFilterEventSource.next(true);\r\n  }\r\n\r\n  private domainListEventSource = new Subject<Project[]>();\r\n  domainListEvent$ = this.domainListEventSource.asObservable();\r\n  emitDomainListEvent(list: Project[]) {\r\n    this.domainListEventSource.next(list);\r\n  }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { TopologyComponent } from './components/topology/topology.component';\nimport { MainLayoutComponent } from './components/main-layout/main-layout.component';\n\nconst routes: Routes = [\n  //{ path: '', redirectTo: '/topoloy', pathMatch: 'full' },\n  //{ path: '', component: TopologyComponent },  \n  { path: '', component: MainLayoutComponent },  \n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}